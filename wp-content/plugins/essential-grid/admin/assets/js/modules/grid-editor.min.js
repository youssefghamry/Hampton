!function(e){"use strict";var t;window.ESG=void 0===window.ESG?{}:window.ESG,ESG.F=void 0===ESG.F?{}:ESG.F,ESG.ENV=void 0===ESG.ENV?{}:ESG.ENV,ESG.V=void 0===ESG.V?{}:ESG.V,ESG.S=void 0===ESG.S?{}:ESG.S,ESG.SC=void 0===ESG.SC?{}:ESG.SC,ESG.C=void 0===ESG.C?{}:ESG.C,ESG.LIB=void 0===ESG.LIB?{nav_skins:[],item_skins:{},nav_originals:{}}:ESG.LIB,ESG.CM=void 0===ESG.CM?{apiJS:null,ajaxCSS:null,navCSS:null}:ESG.CM,ESG.WIN=void 0===ESG.WIN?jQuery(window):ESG.WIN,ESG.DOC=void 0===ESG.DOC?jQuery(document):ESG.DOC,ESG.C.gridEditorInputs=void 0===ESG.C.gridEditorInputs?{}:ESG.C.gridEditorInputs,ESG.F.trim=void 0===ESG.F.trim?function(e){return null!=e&&"string"==typeof e?e.trim():e}:ESG.F.trim,window.GridEditorEssentials=new function(){var e,n=this,i=null,a={},r={},s=[],o={},l=!1,u=[],d=[],c=[];n.initDraggable=function(){jQuery(".eg-draggable").draggable({handle:".dragme"})},n.setInitLayersJson=function(e){for(var t in a=void 0!==e&&e.length>0?JSON.parse(e):{})if("string"!=typeof a[t]&&null!==a[t]){void 0===a[t].settings&&(a[t].settings={});var n=a[t].settings;n.hasOwnProperty("min-height")||(a[t].settings["min-height"]=0),n.hasOwnProperty("max-height")||(a[t].settings["max-height"]="none"),n.hasOwnProperty("duration")||(a[t].settings.duration="default"),n.hasOwnProperty("letter-spacing")||(a[t].settings["letter-spacing"]="normal"),n.hasOwnProperty("letter-spacing-hover")||(a[t].settings["letter-spacing-hover"]="normal")}},n.setInitElementsJson=function(e){for(var t in r=void 0!==e&&e.length>0?JSON.parse(e):{})void 0!==r[t].settings["font-family"]&&(r[t].settings["font-family"]=AdminEssentials.stripslashes(r[t].settings["font-family"]))},n.setInitFontsJson=function(e){d=void 0!==e&&e.length>0?JSON.parse(e):{}},n.refreshInitElements=function(e){for(var t in r=e)void 0!==r[t].settings["font-family"]&&(r[t].settings["font-family"]=AdminEssentials.stripslashes(r[t].settings["font-family"]))},n.setInitMetaKeysJson=function(e){c=void 0!==e&&e.length>0?JSON.parse(e):{}},n.setInitAllAttributesJson=function(e){o=void 0!==e&&e.length>0?JSON.parse(e):{}},n.update_layers=function(){if(null==i)return!1;null!=i.data("id")?n.update_layer_sorting():n.add_layer(),n.redraw_container_height()},n.updateInput=function(e,t,n,i){if(t=t.replace("#",""),ESG.C.gridEditorInputs[t]=void 0===ESG.C.gridEditorInputs[t]?"name"===e?jQuery(n+'[name="'+t+'"]'):jQuery("#"+t):ESG.C.gridEditorInputs[t],void 0!==ESG.C.gridEditorInputs[t]&&0!==ESG.C.gridEditorInputs[t].length)return void 0===i?ESG.C.gridEditorInputs[t].val():void("input"===n||"textarea"==n?ESG.C.gridEditorInputs[t].val(i):"select"===n&&ESG.C.gridEditorInputs[t].find('option[value="'+i+'"]').prop("selected","selected"))},ESG.DOC.on("click",".esg-pinme",function(){var e=jQuery(this).closest(".eg-pbox.esg-box");e.hasClass("pinned")?e.removeClass("pinned"):e.addClass("pinned")}),ESG.C.pinneables=jQuery(".pinneable"),ESG.S.lsatPinnStates=void 0,ESG.WIN.on("scroll",function(){this.scrollY<115?(1!==ESG.S.lsatPinnStates&&ESG.C.pinneables.addClass("inunpinneablerange"),ESG.S.lsatPinnStates=1):(0!==ESG.S.lsatPinnStates&&ESG.C.pinneables.removeClass("inunpinneablerange"),ESG.S.lsatPinnStates=0)}),ESG.WIN.scrollTop()<115?(1!==ESG.S.lsatPinnStates&&ESG.C.pinneables.addClass("inunpinneablerange"),ESG.S.lsatPinnStates=1):(0!==ESG.S.lsatPinnStates&&ESG.C.pinneables.removeClass("inunpinneablerange"),ESG.S.lsatPinnStates=0),n.add_layer=function(){new Date;if(null==i)return!1;var e=n.get_latest_id()+1;n.updateInput("name","eg-item-skin-element-last-id","input",e),i.data("id",e),i.attr("data-id",e);var t=new Object,a=i.data("handle");t.id=e.toString(),t.handle=i.data("handle"),t.settings=jQuery.extend({},r[i.data("handle")].settings),s.push(t),n.update_layer_sorting(),n.set_default_values(),n.select_layer(e.toString()),n.setting_has_changed(),n.propagate_element_selector(),s[s.length-1].handle=eg_lang.new_element_sanitize+"-"+e,i.data("handle",eg_lang.new_element_sanitize+"-"+e),i.attr("data-handle",i.data("handle")),i.data("orighandle",a),i.attr("orighandle",a)},n.update_layer_sorting=function(){var e=jQuery("#skin-dz-tl").sortable("toArray",{attribute:"data-id"}),t=jQuery("#skin-dz-br").sortable("toArray",{attribute:"data-id"}),i=jQuery("#skin-dz-c").sortable("toArray",{attribute:"data-id"}),a=jQuery("#skin-dz-m").sortable("toArray",{attribute:"data-id"});n.update_sorting(e,"tl"),n.update_sorting(t,"br"),n.update_sorting(i,"c"),n.update_sorting(a,"m")},n.update_sorting=function(e,t){var n=0;for(var i in e)for(var a in s)if(e[i]==s[a].id){s[a].order=n,s[a].container=t,n++;break}},n.initFieldReferences=function(){ESG.C.gridEditorInputs["element-source-event"]=void 0===ESG.C.gridEditorInputs["element-source-event"]?jQuery("#element-source-event"):ESG.C.gridEditorInputs["element-source-event"],ESG.C.gridEditorInputs["element-source-woocommerce"]=void 0===ESG.C.gridEditorInputs["element-source-woocommerce"]?jQuery("#element-source-woocommerce"):ESG.C.gridEditorInputs["element-source-woocommerce"],ESG.C.gridEditorInputs["eg-source-icon-wrap"]=void 0===ESG.C.gridEditorInputs["eg-source-icon-wrap"]?jQuery("#eg-source-icon-wrap"):ESG.C.gridEditorInputs["eg-source-icon-wrap"],ESG.C.gridEditorInputs["eg-source-text-style-disable-wrap"]=void 0===ESG.C.gridEditorInputs["eg-source-text-style-disable-wrap"]?jQuery("#eg-source-text-style-disable-wrap"):ESG.C.gridEditorInputs["eg-source-text-style-disable-wrap"],ESG.C.gridEditorInputs["eg-source-text-wrap"]=void 0===ESG.C.gridEditorInputs["eg-source-text-wrap"]?jQuery("#eg-source-text-wrap"):ESG.C.gridEditorInputs["eg-source-text-wrap"],ESG.C.gridEditorInputs["eg-source-limit-wrap"]=void 0===ESG.C.gridEditorInputs["eg-source-limit-wrap"]?jQuery("#eg-source-limit-wrap"):ESG.C.gridEditorInputs["eg-source-limit-wrap"],ESG.C.gridEditorInputs["eg-source-functonality-wrap"]=void 0===ESG.C.gridEditorInputs["eg-source-functonality-wrap"]?jQuery("#eg-source-functonality-wrap"):ESG.C.gridEditorInputs["eg-source-functonality-wrap"],ESG.C.gridEditorInputs["esg-cat-tag-settings"]=void 0===ESG.C.gridEditorInputs["esg-cat-tag-settings"]?jQuery(".esg-cat-tag-settings"):ESG.C.gridEditorInputs["esg-cat-tag-settings"],ESG.C.gridEditorInputs["eg-source-meta-wrap"]=void 0===ESG.C.gridEditorInputs["eg-source-meta-wrap"]?jQuery("#eg-source-meta-wrap"):ESG.C.gridEditorInputs["eg-source-meta-wrap"],ESG.C.gridEditorInputs["eg-element-post-url-wrap"]=void 0===ESG.C.gridEditorInputs["eg-element-post-url-wrap"]?jQuery("#eg-element-post-url-wrap"):ESG.C.gridEditorInputs["eg-element-post-url-wrap"],ESG.C.gridEditorInputs["eg-element-post-meta-wrap"]=void 0===ESG.C.gridEditorInputs["eg-element-post-meta-wrap"]?jQuery("#eg-element-post-meta-wrap"):ESG.C.gridEditorInputs["eg-element-post-meta-wrap"],ESG.C.gridEditorInputs["eg-element-post-javascript-wrap"]=void 0===ESG.C.gridEditorInputs["eg-element-post-javascript-wrap"]?jQuery("#eg-element-post-javascript-wrap"):ESG.C.gridEditorInputs["eg-element-post-javascript-wrap"],ESG.C.gridEditorInputs["background-size-percent-wrap"]=void 0===ESG.C.gridEditorInputs["background-size-percent-wrap"]?jQuery("#background-size-percent-wrap"):ESG.C.gridEditorInputs["background-size-percent-wrap"],ESG.C.gridEditorInputs["eg-t_b_align"]=void 0===ESG.C.gridEditorInputs["eg-t_b_align"]?jQuery("#eg-t_b_align"):ESG.C.gridEditorInputs["eg-t_b_align"],ESG.C.gridEditorInputs["eg-l_r_align"]=void 0===ESG.C.gridEditorInputs["eg-l_r_align"]?jQuery("#eg-l_r_align"):ESG.C.gridEditorInputs["eg-l_r_align"],ESG.C.gridEditorInputs["eg-element-gplus_link_custom"]=void 0===ESG.C.gridEditorInputs["eg-element-gplus_link_custom"]?jQuery(".eg-element-gplus_link_custom"):ESG.C.gridEditorInputs["eg-element-gplus_link_custom"],ESG.C.gridEditorInputs["eg-element-facebook_link_custom"]=void 0===ESG.C.gridEditorInputs["eg-element-facebook_link_custom"]?jQuery(".eg-element-facebook_link_custom"):ESG.C.gridEditorInputs["eg-element-facebook_link_custom"],ESG.C.gridEditorInputs["eg-element-pinterest_link_custom"]=void 0===ESG.C.gridEditorInputs["eg-element-pinterest_link_custom"]?jQuery(".eg-element-pinterest_link_custom"):ESG.C.gridEditorInputs["eg-element-pinterest_link_custom"],ESG.C.gridEditorInputs["eg-element-twitter_link_custom"]=void 0===ESG.C.gridEditorInputs["eg-element-twitter_link_custom"]?jQuery(".eg-element-twitter_link_custom"):ESG.C.gridEditorInputs["eg-element-twitter_link_custom"],ESG.C.gridEditorInputs["eg-element-link-details-wrap"]=void 0===ESG.C.gridEditorInputs["eg-element-link-details-wrap"]?jQuery("#eg-element-link-details-wrap"):ESG.C.gridEditorInputs["eg-element-link-details-wrap"],ESG.C.gridEditorInputs["eg-element-facebook-wrap"]=void 0===ESG.C.gridEditorInputs["eg-element-facebook-wrap"]?jQuery("#eg-element-facebook-wrap"):ESG.C.gridEditorInputs["eg-element-facebook-wrap"],ESG.C.gridEditorInputs["eg-element-gplus-wrap"]=void 0===ESG.C.gridEditorInputs["eg-element-gplus-wrap"]?jQuery("#eg-element-gplus-wrap"):ESG.C.gridEditorInputs["eg-element-gplus-wrap"],ESG.C.gridEditorInputs["eg-element-pinterest-wrap"]=void 0===ESG.C.gridEditorInputs["eg-element-pinterest-wrap"]?jQuery("#eg-element-pinterest-wrap"):ESG.C.gridEditorInputs["eg-element-pinterest-wrap"],ESG.C.gridEditorInputs["eg-element-twitter-wrap"]=void 0===ESG.C.gridEditorInputs["eg-element-twitter-wrap"]?jQuery("#eg-element-twitter-wrap"):ESG.C.gridEditorInputs["eg-element-twitter-wrap"]},n.set_default_values=function(e){for(var t in o){switch(o[t].type){case"colorpicker":n.updateInput("name","element-"+t,"input",o[t].values.default),ESG.C.gridEditorInputs["element-"+t].esgColorPicker({init:function(e,t,n,i){},onRefresh:function(e,t,n,i){e.val(t)},change:function(e,t,n,i,a){e.val(t)},cancel:function(e,t,n,i,a){e.val(t)}});break;case"select":n.updateInput("name","element-"+t,"select",o[t].values.default),"source"==t?(n.updateInput("name","element-source-post","select","title"),n.updateInput("name","element-source-event","select","event_start_date"),n.updateInput("name","element-source-woocommerce","select","wc_regular_price_from"),n.updateInput("name","element-source-icon","input",""),ESG.C.gridEditorInputs["eg-preview-icon"]=void 0===ESG.C.gridEditorInputs["eg-preview-icon"]?jQuery("#eg-preview-icon"):ESG.C.gridEditorInputs["eg-preview-icon"],ESG.C.gridEditorInputs["eg-preview-icon"].html(""),jQuery('input[name="element-source-text-style-disable"]').prop("checked",!1),n.updateInput("name","element-source-text","textarea",""),n.updateInput("name","element-source-meta","input",""),n.updateInput("name","element-source-taxonomy","select","post_tag"),ESG.C.gridEditorInputs["element-source-event"].hide(),ESG.C.gridEditorInputs["element-source-woocommerce"].hide(),ESG.C.gridEditorInputs["eg-source-icon-wrap"].hide(),ESG.C.gridEditorInputs["eg-source-text-style-disable-wrap"].hide(),ESG.C.gridEditorInputs["eg-source-text-wrap"].hide(),ESG.C.gridEditorInputs["eg-source-limit-wrap"].hide(),ESG.C.gridEditorInputs["esg-cat-tag-settings"].hide(),ESG.C.gridEditorInputs["eg-source-functonality-wrap"].hide(),ESG.C.gridEditorInputs["eg-source-meta-wrap"].hide()):"link-type"==t?(n.updateInput("name","element-url-link","input",""),n.updateInput("name","element-javascript-link","input",""),ESG.C.gridEditorInputs["eg-element-post-url-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-post-meta-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-post-javascript-wrap"].hide()):"background-size"==t?(n.updateInput("name","element-background-size-x","input","100"),n.updateInput("name","element-background-size-y","input","100"),ESG.C.gridEditorInputs["background-size-percent-wrap"].css("display","none")):"align"==t&&(n.updateInput("name","element-absolute-unit","select","px"),ESG.C.gridEditorInputs["eg-t_b_align"].text(eg_lang.top),ESG.C.gridEditorInputs["eg-l_r_align"].text(eg_lang.left));break;case"checkbox":jQuery('input[name="element-'+t+'"]').prop("checked",o[t].values.default);break;case"multi-text":jQuery('input[name="element-'+t+'[]"]').each(function(){jQuery(this).val(o[t].values.default)});break;default:n.updateInput("name","element-"+t,"input",o[t].values.default)}n.updateInput("name","element-"+t+"-unit","select","px")}if(void 0!==e&&"object"==typeof s[e]&&"undefined"!==s[e].handle){var i=s[e].settings;for(var t in o)if(void 0!==i[t]){switch(o[t].type){case"colorpicker":if("bg-alpha"==t)continue;n.updateInput("name","element-"+t,"input",i[t]),ESG.C.gridEditorInputs["element-"+t].esgColorPicker({init:function(e,t,n,i){},onRefresh:function(e,t,n,i){e.val(t)},change:function(e,t,n,i,a){e.val(t)},cancel:function(e,t,n,i,a){e.val(t)}});break;case"select":if(n.updateInput("name","element-"+t,"select",i[t]),"source"==t){"post"==i[t]?void 0!==i["source-post"]&&(n.updateInput("name","element-source-post","select",i["source-post"]),"cat_list"!=i["source-post"]&&"tag_list"!=i["source-post"]&&"taxonomy"!=i["source-post"]||(ESG.C.gridEditorInputs["esg-cat-tag-settings"].show(),ESG.C.gridEditorInputs["eg-source-limit-wrap"].hide(),ESG.C.gridEditorInputs["eg-source-functonality-wrap"].show()),"meta"==i["source-post"]&&(jQuery("#eg-source-meta-wrap").show(),void 0!==i["source-meta"]&&n.updateInput("name","element-source-meta","input",i["source-meta"]))):"event"==i[t]?void 0!==i["source-event"]&&n.updateInput("name","element-source-event","select",i["source-event"]):"woocommerce"==i[t]?void 0!==i["source-woocommerce"]&&(n.updateInput("name","element-source-woocommerce","select",i["source-woocommerce"]),"wc_categories"==i["source-woocommerce"]&&(ESG.C.gridEditorInputs["esg-cat-tag-settings"].show(),ESG.C.gridEditorInputs["eg-source-limit-wrap"].hide(),ESG.C.gridEditorInputs["eg-source-functonality-wrap"].show())):"icon"==i[t]?void 0!==i["source-icon"]&&(n.updateInput("name","element-source-icon","input",i["source-icon"]),jQuery("#eg-preview-icon").html('<i class="'+i["source-icon"]+'"></i>')):"text"==i[t]&&void 0!==i["source-text"]&&n.updateInput("name","element-source-text","textarea",i["source-text"])}else if("link-type"==t)void 0!==i["link-type-url"]&&n.updateInput("name","element-url-link","input",i["link-type-url"]),void 0!==i["link-type-meta"]&&n.updateInput("name","element-url-link","input",i["link-type-meta"]),void 0!==i["link-type-javascript"]&&n.updateInput("name","element-javascript-link","input",i["link-type-javascript"]),void 0!==i["link-type-sharefacebook"]&&(n.updateInput("name","element-facebook-sharing-link","select",i["link-type-sharefacebook"]),n.updateInput("name","element-facebook-link-url","input",i["element-facebook-link-url"])),void 0!==i["link-type-sharegplus"]&&(n.updateInput("name","element-gplus-sharing-link","select",i["link-type-sharegplus"]),n.updateInput("name","element-gplus-link-url","input",i["element-gplus-link-url"])),void 0!==i["link-type-sharepinterest"]&&(n.updateInput("name","element-pinterest-sharing-link","select",i["link-type-sharepinterest"]),n.updateInput("name","element-pinterest-link-url","input",i["element-pinterest-link-url"]),n.updateInput("name","element-pinterest-description","textarea",i["link-type-sharepinterest-description"])),void 0!==i["link-type-sharetwitter"]&&(n.updateInput("name","element-twitter-sharing-link","select",i["link-type-sharetwitter"]),n.updateInput("name","element-twitter-link-url","input",i["element-twitter-link-url"]),n.updateInput("name","element-twitter-text-before","input",i["link-type-sharetwitter-text-before"]),n.updateInput("name","element-twitter-text-after","input",i["link-type-sharetwitter-text-after"]));else if("text-align"==t||"float"==t)"block"==jQuery('input[name="element-display"]').val()?"float"==t&&n.updateInput("name","element-"+t,"select","none"):"text-align"==t&&n.updateInput("name","element-"+t,"select","center");else if("background-size"==t)void 0!==i["background-size-x"]&&n.updateInput("name","element-background-size-x","input",i["background-size-x"]),void 0!==i["background-size-y"]&&n.updateInput("name","element-background-size-y","input",i["background-size-y"]),"%"==i["background-size"]&&jQuery("#background-size-percent-wrap").css("display","inline-block");else if("align"==t&&(void 0!==i["absolute-unit"]&&n.updateInput("name","element-absolute-unit","select",i["absolute-unit"]),void 0!==i.align))switch(i.align){case"t_l":ESG.C.gridEditorInputs["eg-t_b_align"].text(eg_lang.top),ESG.C.gridEditorInputs["eg-l_r_align"].text(eg_lang.left);break;case"t_r":ESG.C.gridEditorInputs["eg-t_b_align"].text(eg_lang.top),ESG.C.gridEditorInputs["eg-l_r_align"].text(eg_lang.right);break;case"b_l":ESG.C.gridEditorInputs["eg-t_b_align"].text(eg_lang.bottom),ESG.C.gridEditorInputs["eg-l_r_align"].text(eg_lang.left);break;case"b_r":ESG.C.gridEditorInputs["eg-t_b_align"].text(eg_lang.bottom),ESG.C.gridEditorInputs["eg-l_r_align"].text(eg_lang.right)}break;case"checkbox":i[t]==n.updateInput("name","element-"+t,"input")?ESG.C.gridEditorInputs["element-"+t].prop("checked",!0):ESG.C.gridEditorInputs["element-"+t].prop("checked",!1);break;case"multi-text":var a=0;jQuery('input[name="element-'+t+'[]"]').each(function(){jQuery(this).val(i[t][a]),a++});break;default:n.updateInput("name","element-"+t,"input",i[t])}n.updateInput("name","element-"+t+"-unit","select",i[t+"-unit"])}}!0!==ESG.S.socSharingGridEditor&&(jQuery('select[name="element-facebook-sharing-link"]').change(function(){"custom"==jQuery('select[name="element-facebook-sharing-link"]').val()?ESG.C.gridEditorInputs["eg-element-facebook_link_custom"].show():ESG.C.gridEditorInputs["eg-element-facebook_link_custom"].hide()}),jQuery('select[name="element-gplus-sharing-link"]').change(function(){"custom"==jQuery('select[name="element-gplus-sharing-link"]').val()?ESG.C.gridEditorInputs["eg-element-gplus_link_custom"].show():ESG.C.gridEditorInputs["eg-element-gplus_link_custom"].hide()}),jQuery('select[name="element-pinterest-sharing-link"]').change(function(){"custom"==jQuery('select[name="element-pinterest-sharing-link"]').val()?ESG.C.gridEditorInputs["eg-element-pinterest_link_custom"].show():ESG.C.gridEditorInputs["eg-element-pinterest_link_custom"].hide()}),jQuery('select[name="element-twitter-sharing-link"]').change(function(){"custom"==jQuery('select[name="element-twitter-sharing-link"]').val()?ESG.C.gridEditorInputs["eg-element-twitter_link_custom"].show():ESG.C.gridEditorInputs["eg-element-twitter_link_custom"].hide()}))},n.reset_style_by_position=function(){var e=n.updateInput("name","element-position","select");if(ESG.C.gridEditorInputs["eg-show-on-absolute"]=void 0===ESG.C.gridEditorInputs["eg-show-on-absolute"]?jQuery("#eg-show-on-absolute"):ESG.C.gridEditorInputs["eg-show-on-absolute"],ESG.C.gridEditorInputs["eg-show-on-relative"]=void 0===ESG.C.gridEditorInputs["eg-show-on-relative"]?jQuery("#eg-show-on-relative"):ESG.C.gridEditorInputs["eg-show-on-relative"],"absolute"==e)ESG.C.gridEditorInputs["eg-show-on-absolute"].css("display","block"),ESG.C.gridEditorInputs["eg-show-on-relative"].css("display","none"),i.hasClass("ui-draggable")||(jQuery(i).appendTo("#skin-dz-wrapper"),n.set_absolute_positioning());else{var t=i.data("id");for(var a in s)if(s[a].id==t){i.hasClass("ui-draggable")&&(i.appendTo("#skin-dz-"+s[a].container),i.removeClass("ui-draggable"),i.css("top","auto"),i.css("right","auto"),i.css("bottom","auto"),i.css("left","auto"),i.draggable("destroy"),n.update_layer_sorting());break}ESG.C.gridEditorInputs["eg-show-on-absolute"].css("display","none"),ESG.C.gridEditorInputs["eg-show-on-relative"].css("display","block")}},n.get_setting_values=function(){if(null==i)return!1;var e=i.data("id");for(var t in n.reset_style_by_position(),s)if(s[t].id==e){for(var a in o){var r=s[t].settings[a];if("checkbox"==o[a].type)s[t].settings[a]=jQuery('input[name="element-'+a+'"]').is(":checked")?jQuery('input[name="element-'+a+'"]').val():"";else if("select"==o[a].type)if(s[t].settings[a]=n.updateInput("name","element-"+a,"select"),"source"==a)switch(delete s[t].settings["source-event"],delete s[t].settings["source-woocommerce"],delete s[t].settings["source-icon"],delete s[t].settings["source-text"],delete s[t].settings["source-post"],delete s[t].settings["source-meta"],s[t].settings[a]){case"event":s[t].settings["source-event"]=n.updateInput("name","element-source-event","select");break;case"woocommerce":s[t].settings["source-woocommerce"]=n.updateInput("name","element-source-woocommerce","select");break;case"icon":s[t].settings["source-icon"]=n.updateInput("name","element-source-icon","input");break;case"text":s[t].settings["source-text"]=n.updateInput("name","element-source-text","textarea");break;case"post":default:s[t].settings["source-taxonomy"]=n.updateInput("name","element-source-taxonomy","select"),s[t].settings["source-post"]=n.updateInput("name","element-source-post","select"),"meta"==s[t].settings["source-post"]&&(s[t].settings["source-meta"]=n.updateInput("name","element-source-meta","input"))}else if("link-type"==a)switch(delete s[t].settings["link-type-url"],delete s[t].settings["link-type-meta"],delete s[t].settings["link-type-javascript"],delete s[t].settings["link-type-sharefacebook"],delete s[t].settings["link-type-sharegplus"],delete s[t].settings["link-type-sharepinterest"],delete s[t].settings["link-type-sharetwitter"],s[t].settings[a]){case"post":case"lightbox":case"embedded_media":break;case"url":s[t].settings["link-type-url"]=n.updateInput("name","element-url-link","input");break;case"meta":s[t].settings["link-type-meta"]=n.updateInput("name","element-meta-link","input");break;case"javascript":s[t].settings["link-type-javascript"]=n.updateInput("name","element-javascript-link","input");break;case"sharefacebook":s[t].settings["link-type-sharefacebook"]=n.updateInput("name","element-facebook-sharing-link","select"),s[t].settings["link-type-sharefacebook-custom-url"]=n.updateInput("name","element-facebook-link-url","input");break;case"sharegplus":s[t].settings["link-type-sharegplus"]=n.updateInput("name","element-gplus-sharing-link","select"),s[t].settings["link-type-sharegplus-custom-url"]=n.updateInput("name","element-gplus-link-url","input");break;case"sharepinterest":s[t].settings["link-type-sharepinterest"]=n.updateInput("name","element-pinterest-sharing-link","select"),s[t].settings["link-type-sharepinterest-custom-url"]=n.updateInput("name","element-pinterest-link-url","input"),s[t].settings["link-type-sharepinterest-description"]=n.updateInput("name","element-pinterest-description","input");break;case"sharetwitter":s[t].settings["link-type-sharetwitter"]=n.updateInput("name","element-twitter-sharing-link","select"),s[t].settings["link-type-sharetwitter-custom-url"]=n.updateInput("name","element-twitter-link-url","input"),s[t].settings["link-type-sharetwitter-text-before"]=n.updateInput("name","element-twitter-text-before","input"),s[t].settings["link-type-sharetwitter-text-after"]=n.updateInput("name","element-twitter-text-after","input")}else"background-size"==a?(delete s[t].settings["background-size-x"],delete s[t].settings["background-size-y"],"%"==s[t].settings[a]&&(s[t].settings["background-size-x"]=n.updateInput("name","element-background-size-x","input"),s[t].settings["background-size-y"]=n.updateInput("name","element-background-size-y","input"))):"align"==a&&(s[t].settings["absolute-unit"]=n.updateInput("name","element-absolute-unit","select"));else if("multi-text"==o[a].type){var u={},d=0;jQuery('input[name="element-'+a+'[]"]').each(function(){u[d]=jQuery(this).val(),d++}),s[t].settings[a]=u}else s[t].settings[a]=n.updateInput("name","element-"+a,"input");if(s[t].settings[a+"-unit"]=n.updateInput("name","element-"+a+"-unit","select"),r!==s[t].settings[a]&&void 0!==r)if("multi-text"==o[a].type){var c="",p="",g=!0,m=!0;for(var y in s[t].settings[a])g||(c+=","),c+=s[t].settings[a][y],g=!1;for(var y in r)m||(p+=","),p+=r[y],m=!1;p!=c&&(l=!0)}else l=!0;"transition"==a&&n.check_no_transition(s[t].settings[a])}break}},n.set_setting_values=function(){if(null==i)return!1;var e=i.data("id");for(var t in s)if(s[t].id==e){for(var a in o)if(void 0!==s[t].settings&&void 0!==s[t].settings[a]){if("checkbox"==o[a].type)s[t].settings[a]==jQuery('input[name="element-'+a+'"]').val()||"true"==s[t].settings[a]&&"on"==jQuery('input[name="element-'+a+'"]').val()?jQuery('input[name="element-'+a+'"]').prop("checked",!0):jQuery('input[name="element-'+a+'"]').prop("checked",!1);else if("colorpicker"==o[a].type)n.updateInput("name","element-"+a,"input",s[t].settings[a]),ESG.C.gridEditorInputs["element-"+a].esgColorPicker({init:function(e,t,n,i){},onRefresh:function(e,t,n,i){e.val(t)},change:function(e,t,n,i,a){e.val(t)},cancel:function(e,t,n,i,a){e.val(t)}});else if("slider"==o[a].type||"text-slider"==o[a].type)jQuery('input[name="element-'+a+'"]').val(s[t].settings[a]),jQuery("#element-"+a).slider({value:jQuery('input[name="element-'+a+'"]').val()}),jQuery("body").trigger("esgslide",jQuery("#element-"+a));else if("select"==o[a].type)if(n.updateInput("name","element-"+a,"select",s[t].settings[a]),"source"==a)switch(jQuery(".elements-select-wrap").hide(),s[t].settings[a]){case"event":ESG.C.gridEditorInputs["eg-source-limit-wrap"].show(),ESG.C.gridEditorInputs["element-source-event"].show(),n.updateInput("name","element-source-event","select",s[t].settings["source-event"]);break;case"woocommerce":ESG.C.gridEditorInputs["eg-source-limit-wrap"].show(),ESG.C.gridEditorInputs["element-source-woocommerce"].show(),n.updateInput("name","element-source-woocommerce","select",s[t].settings["source-woocommerce"]);break;case"icon":ESG.C.gridEditorInputs["eg-source-icon-wrap"].show(),n.updateInput("name","element-source-icon","input",s[t].settings["source-icon"]),jQuery("#eg-preview-icon").html('<i class="'+s[t].settings["source-icon"]+'"></i>');break;case"text":void 0!==typeof s[t].settings.special&&"true"==s[t].settings.special&&void 0!==typeof s[t].settings["special-type"]&&"blank-element"==s[t].settings["special-type"]?jQuery("#eg-source-text-style-disable-wrap").hide():jQuery("#eg-source-text-style-disable-wrap").show(),jQuery("#eg-source-text-wrap").show(),n.updateInput("name","element-source-text","textarea",s[t].settings["source-text"]);break;case"post":default:ESG.C.gridEditorInputs["eg-source-limit-wrap"].show(),jQuery('select[name="element-source-post"]').show(),"source-taxonomy"in s[t].settings&&n.updateInput("name","element-source-taxonomy","select",s[t].settings["source-taxonomy"]),jQuery('select[name="element-source-post"] option[value="'+s[t].settings["source-post"]+'"]').prop("selected","selected"),"meta"==s[t].settings["source-post"]&&n.updateInput("name","element-source-meta","input",s[t].settings["source-meta"])}else if("link-type"==a)switch(ESG.C.gridEditorInputs["eg-element-post-url-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-post-meta-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-post-javascript-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-link-details-wrap"].show(),ESG.C.gridEditorInputs["eg-element-facebook-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-gplus-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-pinterest-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-twitter-wrap"].hide(),s[t].settings[a]){case"post":case"lightbox":case"embedded_media":break;case"url":ESG.C.gridEditorInputs["eg-element-post-url-wrap"].show(),n.updateInput("name","element-url-link","input",s[t].settings["link-type-url"]);break;case"meta":ESG.C.gridEditorInputs["eg-element-post-meta-wrap"].show(),n.updateInput("name","element-meta-link","input",s[t].settings["link-type-meta"]);break;case"javascript":ESG.C.gridEditorInputs["eg-element-post-javascript-wrap"].show(),n.updateInput("name","element-javascript-link","input",s[t].settings["link-type-javascript"]);break;case"sharefacebook":ESG.C.gridEditorInputs["eg-element-link-details-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-facebook-wrap"].show(),n.updateInput("name","element-facebook-sharing-link","select",s[t].settings["link-type-sharefacebook"]),n.updateInput("name","element-facebook-link-link","input",s[t].settings["link-type-sharefacebook-custom-url"]),"custom"==n.updateInput("name","element-facebook-sharing-link","select")?ESG.C.gridEditorInputs["eg-element-facebook_link_custom"].show():ESG.C.gridEditorInputs["eg-element-facebook_link_custom"].hide();break;case"sharegplus":ESG.C.gridEditorInputs["eg-element-link-details-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-gplus-wrap"].show(),n.updateInput("name","element-gplus-sharing-link","select",s[t].settings["link-type-sharegplus"]),n.updateInput("name","element-gplus-link-url","input",s[t].settings["link-type-sharegplus-custom-url"]),"custom"==n.updateInput("name","element-gplus-sharing-link","select")?ESG.C.gridEditorInputs["eg-element-gplus_link_custom"].show():ESG.C.gridEditorInputs["eg-element-gplus_link_custom"].hide();break;case"sharepinterest":ESG.C.gridEditorInputs["eg-element-link-details-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-pinterest-wrap"].show(),n.updateInput("name","element-pinterest-sharing-link","select",s[t].settings["link-type-sharepinterest"]),n.updateInput("name","element-pinterest-link-url","input",s[t].settings["link-type-sharepinterest-custom-url"]),n.updateInput("name","element-pinterest-description","textarea",s[t].settings["link-type-sharepinterest-description"]),"custom"==n.updateInput("name","element-pinterest-sharing-link","select")?ESG.C.gridEditorInputs["eg-element-pinterest_link_custom"].show():ESG.C.gridEditorInputs["eg-element-pinterest_link_custom"].hide();break;case"sharetwitter":ESG.C.gridEditorInputs["eg-element-link-details-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-twitter-wrap"].show(),n.updateInput("name","element-twitter-sharing-link","select",s[t].settings["link-type-sharetwitter"]),n.updateInput("name","element-twitter-link-url","input",s[t].settings["link-type-sharetwitter-custom-url"]),n.updateInput("name","element-twitter-text-before","input",s[t].settings["link-type-sharetwitter-text-before"]),n.updateInput("name","element-twitter-text-after","input",s[t].settings["link-type-sharetwitter-text-after"]),"custom"==n.updateInput("name","element-twitter-sharing-link","select")?ESG.C.gridEditorInputs["eg-element-twitter_link_custom"].show():ESG.C.gridEditorInputs["eg-element-twitter_link_custom"].hide()}else if("display"==a)switch(jQuery("#element-text-align-wrap").hide(),jQuery("#element-float-wrap").hide(),s[t].settings[a]){case"block":jQuery("#element-text-align-wrap").show();break;case"inline-block":jQuery("#element-float-wrap").show()}else"background-size"==a?"%"==s[t][a]&&(jQuery("#background-size-percent-wrap").css("display","inline-block"),n.updateInput("name","element-background-size-x","input",s[t].settings["background-size-x"]),n.updateInput("name","element-background-size-y","input",s[t].settings["background-size-y"])):"align"==a&&n.updateInput("name","element-absolute-unit","select",s[t].settings["absolute-unit"]);else if("multi-text"==o[a].type){var r=0;jQuery('input[name="element-'+a+'[]"]').each(function(){jQuery(this).val(s[t].settings[a][r]),r++})}else n.updateInput("name","element-"+a,"input",s[t].settings[a]);n.updateInput("name","element-"+a+"-unit","input",s[t].settings[a+"-unit"])}break}},n.set_setting_styles=function(){if(null==i)return!1;var e=i.data("id");for(var t in s)if(s[t].id==e){n.set_inline_styles(i,s[t].settings);break}},n.set_inline_styles=function(e,t,n){var i=jQuery("#eg-inline-style-wrapper");if("eg-line-break"==e.data("handle")||"eg-blank-element"==e.data("handle"))return!0;var a=[],r=[];if("text"==t.source&&void 0!==t["source-text-style-disable"]&&"on"==t["source-text-style-disable"]);else{var s="",l=!1;for(var u in"true"==t["force-important"]&&(s=" !important"),"on"==t["enable-hover"]&&(l=!0),o){if(void 0!==n){if("margin"==u)continue;if("position"==u)continue}var d=o[u].style;if("hover"==d)switch(u){case"display":case"text-align":case"float":case"clear":case"margin":case"padding":break;default:if(o[u].style!=d)continue}if(("idle"==o[u].style||"hover"==o[u].style)&&((l||"hover"!=o[u].style)&&void 0!==t[u])){var c="idle"==d?u:u.replace("-hover","");if("multi-text"==o[u].type){void 0===t[u+"-unit"]&&(t[u+"-unit"]="px");var p=t[u+"-unit"];if("border-radius"==c)"idle"==d?(a.push("border-top-left-radius: "+t[u][0]+p+s+";"),a.push("border-top-right-radius: "+t[u][1]+p+s+";"),a.push("border-bottom-right-radius: "+t[u][2]+p+s+";"),a.push("border-bottom-left-radius: "+t[u][3]+p+s+";")):(r.push("border-top-left-radius: "+t[u][0]+p+s+";"),r.push("border-top-right-radius: "+t[u][1]+p+s+";"),r.push("border-bottom-right-radius: "+t[u][2]+p+s+";"),r.push("border-bottom-left-radius: "+t[u][3]+p+s+";"));else if("border"==c)"idle"==d?(a.push("border-top: "+t[u][0]+p+s+";"),a.push("border-right: "+t[u][1]+p+s+";"),a.push("border-bottom: "+t[u][2]+p+s+";"),a.push("border-left: "+t[u][3]+p+s+";")):(r.push("border-top: "+t[u][0]+p+s+";"),r.push("border-right: "+t[u][1]+p+s+";"),r.push("border-bottom: "+t[u][2]+p+s+";"),r.push("border-left: "+t[u][3]+p+s+";"));else if("box-shadow"==c||"background-color"==c){var g="";for(var m in t[u])g+=t[u][m]+p+" ";g+=" "+("idle"==d?t["shadow-color"]:t["shadow-color-hover"]),"idle"==d?(a.push("-moz-"+c+": "+g+s+";"),a.push("-webkit-"+c+": "+g+s+";"),a.push(c+": "+g+s+";")):(r.push("-moz-"+c+": "+g+s+";"),r.push("-webkit-"+c+": "+g+s+";"),r.push(c+": "+g+s+";"))}else{g="";for(var m in t[u])g+=t[u][m]+p+" ";"idle"==d?a.push(c+": "+g+s+";"):r.push(c+": "+g+s+";")}}else if("background-color"==c){var y=t[u];y=ESGColor.get(y),"idle"==d?a.push("background: "+y+s+";"):r.push("background: "+y+s+";")}else{if("border"==c&&("idle"==d?a.push("border-style: solid"+s+";"):r.push("border-style: solid"+s+";")),"font-style"==c&&"true"==t[u]&&(t[u]="italic"+s+";"),null==(p=o[u].unit)&&(p=""),""==t[u])continue;if("idle"==d){if("display"==c?a.push(c+": "+t[u]+p+" !important;"):a.push(c+": "+t[u]+p+s+";"),"position"==c&&"absolute"==t[u]){a.push("height: auto"+s+";"),a.push("width: auto"+s+";"),a.push("white-space: nowrap"+s+";");var h="NaN"==t["left-right"]?0:t["left-right"],v="NaN"==t["top-bottom"]?0:t["top-bottom"];switch(t.align){case"t_l":a.push("top: "+v+t["absolute-unit"]+";"),a.push("left: "+h+t["absolute-unit"]+";"),a.push("bottom:auto;"),a.push("right:auto;");break;case"t_r":a.push("top: "+v+t["absolute-unit"]+";"),a.push("right: "+h+t["absolute-unit"]+";"),a.push("bottom:auto;"),a.push("left:auto;");break;case"b_l":a.push("bottom: "+v+t["absolute-unit"]+";"),a.push("left: "+h+t["absolute-unit"]+";"),a.push("top:auto;"),a.push("right:auto;");break;case"b_r":a.push("bottom: "+v+t["absolute-unit"]+";"),a.push("right: "+h+t["absolute-unit"]+";"),a.push("top:auto;"),a.push("left:auto;")}}}else r.push(c+": "+t[u]+p+s+";")}}}}var f='<style type="text/css" id="eg-element-style-'+e.data("handle")+'">\n';if(a.length>0){for(var j in f+='.skin-dz-elements[data-handle="'+e.data("handle")+'"] {\n',a)f+=a[j]+"\n";f+="}\n"}if(r.length>0){for(var _ in f+='.skin-dz-elements[data-handle="'+e.data("handle")+'"]:hover {\n',r)f+=r[_]+"\n";f+="}\n"}f+="</style>\n",jQuery("#eg-element-style-"+e.data("handle")).length>0&&jQuery("#eg-element-style-"+e.data("handle")).remove(),i.append(f)},n.set_global_inline_styles=function(){var e,n=jQuery("#eg-inline-style-wrapper");jQuery("#eg-global-inline-styles").length>0&&jQuery("#eg-global-inline-styles").remove(),e='<style type="text/css" id="eg-global-inline-styles">\n',e+=t.getValue(),e+="</style>\n",l=!0,n.append(e)},n.set_setting_attributes=function(){if(null==i)return!1;var e=i.data("id");for(var t in s)if(s[t].id==e)for(var n in o)if("attribute"===o[n].style)if("delay"==n){var a=s[t].settings[n];a>0&&(a/=100),i.data("delay",a)}else if("duration"==n){var r=s[t].settings[n];i.data("duration",r)}else if("transition"==n){var l=i.attr("class").split(" ");for(var u in l)-1!==l[u].indexOf("esg-")&&i.removeClass(l[u]);void 0===s[t].settings["transition-type"]&&(s[t].settings["transition-type"]=""),i.addClass("esg-"+s[t].settings[n]+s[t].settings["transition-type"])}},n.set_setting_caption=function(){if(null==i)return!1;var e=i.data("id"),t="";for(var n in s)if(s[n].id==e){if(void 0!==typeof s[n].settings.special&&"true"==s[n].settings.special&&void 0!==typeof s[n].settings["special-type"]&&"blank-element"==s[n].settings["special-type"])return i.html("&nbsp;"),!0;switch(s[n].settings.source){case"icon":if(void 0!==s[n].settings["source-icon"])t='<i class="'+s[n].settings["source-icon"]+'"></i>';break;case"text":if(void 0!==s[n].settings["source-text"])t=s[n].settings["source-text"];break;case"event":if(void 0!==s[n].settings["source-event"])t=s[n].settings["source-event"];break;case"woocommerce":if(void 0!==s[n].settings["source-woocommerce"])t=s[n].settings["source-woocommerce"];break;case"post":default:if(void 0!==s[n].settings["source-post"])t=s[n].settings["source-post"]}if("post"==s[n].settings.source||"event"==s[n].settings.source||"woocommerce"==s[n].settings.source)switch(""==t&&(t="title",s[n].settings.source="post"),t){case"wc_full_price":t=eg_lang.full_price;break;case"wc_price":t=eg_lang.regular_price;break;case"wc_price_no_cur":t=eg_lang.regular_price_no_cur;break;default:t=jQuery('select[name="element-source-'+s[n].settings.source+'"] option[value="'+t+'"]').text()}i.html(t);break}},n.propagate_layer_styles=function(e,t){if(void 0===r[e])return!1;for(var n in r[e].settings)s[t].settings[n]=r[e].settings[n]},n.propagate_element_selector=function(){for(var e in jQuery("#element-settings-current-name").html(""),s){var t="";switch(s[e].settings.source){case"icon":t=s[e].settings["source-icon"];break;case"post":t=jQuery('select[name="element-source-post"] option[value="'+s[e].settings["source-post"]+'"]').text();break;case"event":t=jQuery('select[name="element-source-event"] option[value="'+s[e].settings["source-event"]+'"]').text();break;case"woocommerce":t=jQuery('select[name="element-source-woocommerce"] option[value="'+s[e].settings["source-woocommerce"]+'"]').text();break;case"text":t=s[e].settings["source-text"].replace(/(<([^>]+)>)/gi,"")}jQuery("#element-settings-current-name").append(jQuery("<option>",{value:s[e].id,text:t}))}if(jQuery("#element-settings-current-name option").each(function(){jQuery(this).prop("selected",!1)}),null!==i){jQuery('#element-settings-current-name option[value="'+i.data("id")+'"]').prop("selected","selected"),jQuery("#element-settings-current-name").parent().show();var n="text"==jQuery('select[name="element-source"] option:selected').val()&&"checked"==jQuery('input[name="element-source-text-style-disable"]').prop("checked")?"-nostyle":"";jQuery(".eg-element-class-setter").text(eg_lang.class_name+" .eg-"+jQuery("#eg-item-skin-slug").text()+n+"-element-"+i.data("id"))}else jQuery(".eg-element-class-setter").text("");var a=!0;for(var r in s)if(null!=s[r]){a=!1;break}a&&jQuery("#element-settings-current-name").parent().hide()},n.propagate_default_element_styles=function(){for(var t in r)if(void 0!==r[t].settings){var i=jQuery('.mainul .skin-dz-elements[data-handle="'+t+'"]');jQuery.isEmptyObject(i)||i.each(function(){n.set_inline_styles(jQuery(this),r[t].settings,!0)})}e.esreinit(),n.set_default_elements_draggable()},n.select_layer=function(e){jQuery("#eg-dz-hover-wrap .skin-dz-elements").removeClass("selected"),jQuery(".skin-dz-elements").each(function(t){var n=jQuery(this);if(null!=n&&null!=n.data("id")&&n.data("id").toString()===e.toString())return 0!==(i=n)[0].style.width&&"0px"!==i[0].style.width||(i[0].style.width="auto"),0!==i[0].style.height&&"0px"!==i[0].style.height||(i[0].style.height="auto"),"relative"===i[0].style.position&&(0!==i[0].style.top&&"0px"!==i[0].style.top||(i[0].style.top="auto"),0!==i[0].style.left&&"0px"!==i[0].style.left||(i[0].style.left="auto")),!0});var t=document.getElementById("always-visible-options");if(t){var a=i.closest("#skin-dz-m-wrap").length?"none":"block";t.style.display=a}i.addClass("selected"),n.set_default_values(e),n.set_setting_values(),n.show_toolbar(),n.select_element_editor_name(),jQuery('select[name="element-source"]').change()},n.delete_layer=function(e){jQuery("#eg-dz-hover-wrap .skin-dz-elements").removeClass("selected"),"object"!=typeof e&&(e=jQuery('.skin-dz-elements[data-id="'+e+'"]'));var t=e.data("id");for(var a in e.remove(),s)if(s[a].id==t){delete s[a];break}i=null;if(s.length>0)for(var a in s)if(null!=typeof s[a].id){n.select_layer(s[a].id);break}null==i&&n.show_empty_toolbar(),n.change_bg_color(),n.propagate_element_selector(),n.redraw_container_height(),AdminEssentials.adjustDropHeights()},n.show_toolbar=function(){if(null==i)return!1;var e=!1;for(var t in jQuery("#settings-dz-elements-wrapper").show(),jQuery(".eg-hide-on-special").show(),jQuery("#element-save-as-button").show(),s)if(s[t].handle==i.data("handle")){if(void 0!==typeof s[t].settings.special&&"true"==s[t].settings.special){if(void 0!==typeof s[t].settings["special-type"])switch(s[t].settings["special-type"]){case"blank-element":jQuery(".eg-hide-on-blank-element").hide(),jQuery("#element-save-as-button").hide(),jQuery(".eg-source-li>a").trigger("click");break;case"line-break":default:jQuery("#settings-dz-elements-wrapper").hide(),jQuery("#element-save-as-button").hide()}}else jQuery("#settings-dz-elements-wrapper").show(),jQuery(".eg-hide-on-special").show(),jQuery("#element-save-as-button").show();n.hide_empty_toolbar(),e=!0;break}e||n.show_empty_toolbar()},n.show_empty_toolbar=function(){jQuery("#element-setting-wrap-alternative").css("display","block"),jQuery("#element-setting-wrap-top").css("display","none")},n.hide_empty_toolbar=function(){jQuery("#element-setting-wrap-alternative").css("display","none"),jQuery("#element-setting-wrap-top").css("display","block")},n.select_element_editor_name=function(){if(null==i)return!1;var e=i.data("id");jQuery("#element-settings-current-name option").each(function(){jQuery(this).prop("selected",!1)}),jQuery('#element-settings-current-name option[value="'+e+'"]').prop("selected","selected")},n.get_latest_id=function(){var e=-1;for(var t in s)parseInt(s[t].id)>e&&(e=parseInt(s[t].id));return parseInt(jQuery('input[name="eg-item-skin-element-last-id"]').val())>parseInt(e)&&(e=jQuery('input[name="eg-item-skin-element-last-id"]').val()),parseInt(e)},n.output_setting_data=function(){var e=[];for(var t in s)""!=s[t]&&(null==s[t].order&&(s[t].order="0"),e[t]={},e[t].id=s[t].id,e[t].order=s[t].order,e[t].container=s[t].container,e[t].settings=s[t].settings);return e},n.create_elements_by_data=function(e){var t=0,o=[];if(void 0===e&&(e=a),null==e)return!1;for(var l in e)"string"!=typeof e[l]&&null!==e[l]&&(null==e[l].order&&(e[l].order="0"),null==e[l].container&&(e[l].container="c"),o[l]=jQuery.extend({},e[l]));for(var l in jQuery.isEmptyObject(o)||o.sort(n.sortByOrder),o){var u=!1;for(var d in r)if(d==o[l].handle){u=d;break}if(!1!==u)var c=o[l].handle,p=r[u].name;else{c=eg_lang.new_element_sanitize+"-"+t,p=eg_lang.new_element+" "+t;for(var g in a)"string"!=typeof a[g]&&null!==a[g]&&a[g].id==o[l].id&&a[g].handle==o[l].handle&&(a[g].handle=c);o[l].handle=c,t++}var m=o[l].id,y="";if(void 0!==typeof o[l].settings.special&&"true"==o[l].settings.special)if(void 0!==typeof o[l].settings["special-type"])switch(o[l].settings["special-type"]){case"blank-element":y=" eg-special-blank-element";break;case"line-break":default:y=" eg-special-element"}else y=" eg-special-element";var h='<div class="skin-dz-elements'+y+'" data-id="'+m+'" data-handle="'+c+'">'+p+"</div>";jQuery("#skin-dz-"+o[l].container).append(h)}for(var v in s=o)i=jQuery('.skin-dz-elements[data-id="'+s[v].id+'"]'),n.set_setting_styles(),n.set_setting_caption(),n.set_setting_attributes(),void 0!==s[v].settings.position&&"absolute"==s[v].settings.position&&(jQuery(i).appendTo("#skin-dz-wrapper"),n.set_absolute_positioning());n.propagate_element_selector(),i=null,n.change_bg_color(),n.selet_first_layer(),n.redraw_container_height()},n.selet_first_layer=function(){var e=!1;for(var t in s)if(null!=s[t]){n.select_layer(s[t].id),e=!0;break}e||n.show_empty_toolbar()},n.add_animation_classes=function(){var e=jQuery("#skin-dz-c-wrap .eg-element-cover"),t=jQuery("#skin-dz-tl-wrap .eg-element-cover"),n=jQuery("#skin-dz-br-wrap .eg-element-cover");e.removeClass().addClass("eg-element-cover"),t.removeClass().addClass("eg-element-cover"),n.removeClass().addClass("eg-element-cover"),e.removeAttr("data-delay"),t.removeAttr("data-delay"),n.removeAttr("data-delay"),e.data("delay",null),t.data("delay",null),n.data("delay",null),e.removeAttr("data-duration"),t.removeAttr("data-duration"),n.removeAttr("data-duration"),e.data("duration",null),t.data("duration",null),n.data("duration",null),jQuery("#skin-dz-wrapper").removeClass().addClass("esg-"+jQuery('select[name="cover-group-animation"] option:selected').val()),jQuery("#skin-dz-media-bg").removeClass().addClass("esg-"+jQuery('select[name="media-animation"] option:selected').val()),jQuery("#skin-dz-wrapper").attr("data-delay",parseInt(jQuery('input[name="cover-group-animation-delay"]').val())/100),jQuery("#skin-dz-wrapper").attr("data-duration",jQuery('input[name="cover-group-animation-duration"]').val()),jQuery("#skin-dz-media-bg").attr("data-delay",parseInt(jQuery('input[name="media-animation-delay"]').val())/100),jQuery("#skin-dz-media-bg").attr("data-duration",jQuery('input[name="media-animation-duration"]').val()),jQuery("#skin-dz-wrapper").data("delay",parseInt(jQuery('input[name="cover-group-animation-delay"]').val())/100),jQuery("#skin-dz-media-bg").data("delay",parseInt(jQuery('input[name="media-animation-delay"]').val())/100),jQuery("#skin-dz-wrapper").data("duration",jQuery('input[name="cover-group-animation-duration"]').val()),jQuery("#skin-dz-media-bg").data("duration",jQuery('input[name="media-animation-duration"]').val()),"full"==jQuery('select[name="cover-type"] option:selected').val()?(e.addClass("esg-"+jQuery('select[name="cover-animation-center"] option:selected').val()+jQuery('select[name="cover-animation-center-type"] option:selected').val()),e.attr("data-delay",parseInt(jQuery('input[name="cover-animation-delay-center"]').val())/100),e.data("delay",parseInt(jQuery('input[name="cover-animation-delay-center"]').val())/100),e.attr("data-duration",jQuery('input[name="cover-animation-duration-center"]').val()),e.data("duration",jQuery('input[name="cover-animation-duration-center"]').val())):(t.addClass("esg-"+jQuery('select[name="cover-animation-top"] option:selected').val()+jQuery('select[name="cover-animation-top-type"] option:selected').val()),e.addClass("esg-"+jQuery('select[name="cover-animation-center"] option:selected').val()+jQuery('select[name="cover-animation-center-type"] option:selected').val()),n.addClass("esg-"+jQuery('select[name="cover-animation-bottom"] option:selected').val()+jQuery('select[name="cover-animation-bottom-type"] option:selected').val()),t.attr("data-delay",parseInt(jQuery('input[name="cover-animation-delay-top"]').val())/100),e.attr("data-delay",parseInt(jQuery('input[name="cover-animation-delay-center"]').val())/100),n.attr("data-delay",parseInt(jQuery('input[name="cover-animation-delay-bottom"]').val())/100),t.data("delay",parseInt(jQuery('input[name="cover-animation-delay-top"]').val())/100),e.data("delay",parseInt(jQuery('input[name="cover-animation-delay-center"]').val())/100),n.data("delay",parseInt(jQuery('input[name="cover-animation-delay-bottom"]').val())/100),t.attr("data-duration",jQuery('input[name="cover-animation-duration-top"]').val()),e.attr("data-duration",jQuery('input[name="cover-animation-duration-center"]').val()),n.attr("data-duration",jQuery('input[name="cover-animation-duration-bottom"]').val()),t.data("duration",jQuery('input[name="cover-animation-duration-top"]').val()),e.data("duration",jQuery('input[name="cover-animation-duration-center"]').val()),n.data("duration",jQuery('input[name="cover-animation-duration-bottom"]').val()))},n.refresh_predefined_elements=function(t){if(void 0===t)AdminEssentials.ajaxRequest("get_predefined_elements",{},"",function(e){n.refreshInitElements(e.data.elements),n.refresh_item_layout_elements(e.data.html),n.propagate_default_element_styles(),n.propagate_element_selector()});else{for(var i in r)if(t==i){delete r.handle;break}e.esredraw()}},n.refresh_item_layout_elements=function(e){jQuery(".mainul").html(""),jQuery(".mainul").html(e)},n.check_content_position=function(){var e=jQuery('select[name="show-content"] option:selected').val();jQuery("#skin-dz-m-wrap").show(),"none"==e?jQuery("#skin-dz-m-wrap").hide():"bottom"==e?jQuery("#skin-dz-m-wrap").appendTo(jQuery("#eg-dz-hover-wrap")):"top"==e&&jQuery("#skin-dz-m-wrap").prependTo(jQuery("#eg-dz-hover-wrap"))},n.set_absolute_positioning=function(){jQuery("#skin-dz-wrapper>.skin-dz-elements").draggable({containment:".eg-editor-inside-wrapper",drag:function(){jQuery(this).css({bottom:"auto",right:"auto"})}}),jQuery("#skin-dz-wrapper>.skin-dz-elements").on("dragstop",function(e,t){i.data("id")!==jQuery(this).data("id")&&n.select_layer(jQuery(this).data("id")),n.calculate_absolute_positioning(jQuery(this))})},n.calculate_absolute_positioning=function(e){var t=jQuery('input[name="element-top-bottom"]'),i=jQuery('input[name="element-left-right"]'),a=jQuery('select[name="element-absolute-unit"] option:selected').val(),r=(jQuery("#eg-dz-padding-wrapper").width(),jQuery("#eg-dz-padding-wrapper").height(),jQuery('select[name="element-align"] option:selected').val()),s=jQuery("#skin-dz-media-bg"),o=s.width(),l=s.height(),u=e.position().top,d=e.position().left,c=o-e.position().left-e.outerWidth(!0),p=l-e.position().top-e.outerHeight(!0);switch("%"==a&&(u=u/l*100,d=d/o*100,c=c/o*100,p=p/l*100),r){case"t_l":t.val(u),i.val(d);break;case"t_r":t.val(u),i.val(c);break;case"b_l":t.val(p),i.val(d);break;case"b_r":t.val(p),i.val(c)}n.setting_has_changed()},n.set_default_elements_draggable=function(){jQuery("#skin-dz-tl, #skin-dz-br, #skin-dz-c, #skin-dz-m, .skin-dz-elements, .eg-special-element, .eg-additional-element").disableSelection(),jQuery(".mainul .skin-dz-elements, .eg-special .eg-special-element, .eg-additional-element").draggable({connectToSortable:"#skin-dz-tl,#skin-dz-br,#skin-dz-c,#skin-dz-m",helper:"clone",revert:!1,appendTo:"#eg-wrap",drag:function(){AdminEssentials.whileDropOrSort(".skin-dz-elements.ui-draggable-dragging")},stop:function(){AdminEssentials.atDropStop()}}),jQuery(".eg-trashdropzone").droppable({accept:".mainul .skin-dz-elements",hoverClass:"eg-trashdropzone-hover",drop:function(e,t){if(confirm(eg_lang.really_delete_element_permanently)){var i={handle:t.draggable.data("handle")};AdminEssentials.ajaxRequest("delete_predefined_elements",i,".eg-trashdropzone",function(e){jQuery(t.draggable).closest("li").remove(),n.refresh_predefined_elements(t.draggable.data("handle"))})}}}),n.set_absolute_positioning(),jQuery(".drop-to-stylechange").droppable({accept:".mainul .skin-dz-elements",hoverClass:"eg-trashdropzone-hover",drop:function(e,t){if(null==i)return!1;var a={},l=t.draggable.data("handle");for(var u in r)if(u==l){a=jQuery.extend({},r[u].settings);break}var d=i.data("id");if(!jQuery.isEmptyObject(a))for(var c in s)if(s[c].id==d){for(var u in o)"idle"==o[u].style&&void 0!==a[u]&&(s[c].settings[u]=a[u],"multi-text"==o[u].type&&(void 0===a[u+"-unit"]&&(a[u+"-unit"]="px"),s[c].settings[u+"-unit"]=a[u+"-unit"]));n.select_layer(d),n.setting_has_changed();break}}})},n.redraw_container_height=function(){var e=jQuery("#eg-element-centerme-c"),t=jQuery("#skin-dz-wrapper");e.css({top:Math.round((t.height()-e.height())/2)+"px"})},n.redraw_container_width=function(){var e=jQuery("#eg-dz-hover-wrap"),t=400-parseInt(e.css("paddingLeft"),0)-parseInt(e.css("paddingRight"),0)-parseInt(e.css("borderLeftWidth"),0)-parseInt(e.css("borderRightWidth"),0);e.css("width",t),jQuery("#skin-dz-wrapper, #skin-dz-video-wrapper, #skin-dz-music-wrapper, #skin-dz-media-bg-wrapper").css("width",t)},n.change_bg_color=function(e){var t=jQuery("#container-background-color"),n=void 0!==e?e:t.attr("data-color")||t.val(),i=jQuery('select[name="cover-background-size"] option:selected').val(),a=jQuery('select[name="cover-background-repeat"] option:selected').val(),r="0"!=jQuery('input[name="cover-background-image"]').val()?jQuery('input[name="cover-background-image-url"]').val():"";jQuery(".esg-cc .eg-element-cover").css("background-color","transparent"),jQuery(".esg-tc .eg-element-cover").css("background-color","transparent"),jQuery(".esg-bc .eg-element-cover").css("background-color","transparent"),jQuery(".esg-cc .eg-element-cover").css("background-image",""),jQuery(".esg-tc .eg-element-cover").css("background-image",""),jQuery(".esg-bc .eg-element-cover").css("background-image",""),null==n&&(n="transparent"),"full"==jQuery('select[name="cover-type"] option:selected').val()?(jQuery(".esg-cc .eg-element-cover").css("background",n),""!==r&&jQuery(".esg-cc .eg-element-cover").css("background-image","url("+r+")"),jQuery(".esg-cc .eg-element-cover").css("background-size",i),jQuery(".esg-cc .eg-element-cover").css("background-repeat",a)):(ESG.F.trim(jQuery("#skin-dz-c").html())&&(jQuery(".esg-cc .eg-element-cover").css("background",n),""!==r&&jQuery(".esg-cc .eg-element-cover").css("background-image","url("+r+")"),jQuery(".esg-cc .eg-element-cover").css("background-size",i),jQuery(".esg-cc .eg-element-cover").css("background-repeat",a)),ESG.F.trim(jQuery("#skin-dz-tl").html())&&(jQuery(".esg-tc .eg-element-cover").css("background",n),""!==r&&jQuery(".esg-tc .eg-element-cover").css("background-image","url("+r+")"),jQuery(".esg-tc .eg-element-cover").css("background-size",i),jQuery(".esg-tc .eg-element-cover").css("background-repeat",a)),ESG.F.trim(jQuery("#skin-dz-br").html())&&(""!==r?(jQuery(".esg-bc .eg-element-cover").css("background-image","url("+r+")"),jQuery(".esg-bc .eg-element-cover").css("background-size",i),jQuery(".esg-bc .eg-element-cover").css("background-repeat",a)):jQuery(".esg-bc .eg-element-cover").css("background",n))),jQuery(".eg-pa-coverring").css("background",n)},jQuery(".drop-to-stylereset").on("click",function(){if(null==i)return!1;var e=i.data("id");for(var t in s)if(s[t].id==e){for(var a in o){var r=a.replace("-hover","");"hover"==o[a].style&&("checkbox"==o[a].type?s[t].settings[a]=s[t].settings[r]:"select"==o[a].type?(s[t].settings[a]=s[t].settings[r],"background-size"==a&&(delete s[t].settings["background-size-x-hover"],delete s[t].settings["background-size-y-hover"],"%"==s[t].settings[r]&&(s[t].settings["background-size-x-hover"]=s[t].settings["element-background-size-x"],s[t].settings["background-size-y-hover"]=s[t].settings["element-background-size-y"]))):(o[a].type,s[t].settings[a]=s[t].settings[r]),void 0!==s[t].settings[r+"-unit"]&&(s[t].settings[r+"-unit-hover"]=s[t].settings[r+"-unit"]))}n.set_default_values(e),n.set_setting_values(),n.setting_has_changed();break}}),n.initGridEditor=function(a){var r;window.onbeforeunload=function(e){if(l){var t=eg_lang.leave_not_saved;return(e=e||window.event)&&(e.returnValue=t),t}},jQuery('input[name="element-font-family"]').autocomplete({source:u,minLength:0}),jQuery('input[name="element-font-family-hover"]').autocomplete({source:u,minLength:0}),jQuery('input[name="element-source-meta"]').autocomplete({source:c,minLength:0}),jQuery(".ar-meta-field").autocomplete({source:c,minLength:0}),jQuery('input[name="element-meta-link"]').autocomplete({source:c,minLength:0}),jQuery('input[name="link-meta-link"]').autocomplete({source:c,minLength:0}),jQuery('input[name="element-font-family"]').on("autocompleteopen",function(){jQuery(this).data("is_open",!0)}),jQuery('input[name="element-font-family"]').on("autocompleteclose",function(){jQuery(this).data("is_open",!1)}),jQuery('input[name="element-font-family"]').on("autocompletechange",function(){n.setting_has_changed()}),jQuery('input[name="element-font-family-hover"]').on("autocompleteopen",function(){jQuery(this).data("is_open",!0)}),jQuery('input[name="element-font-family-hover"]').on("autocompleteclose",function(){jQuery(this).data("is_open",!1)}),jQuery('input[name="element-font-family-hover"]').on("autocompletechange",function(){n.setting_has_changed()}),jQuery(".ar-meta-field").on("autocompleteopen",function(){jQuery(this).data("is_open",!0)}),jQuery(".ar-meta-field").on("autocompleteclose",function(){jQuery(this).data("is_open",!1)}),jQuery('input[name="element-source-meta"]').on("autocompleteopen",function(){jQuery(this).data("is_open",!0)}),jQuery('input[name="element-source-meta"]').on("autocompleteclose",function(){jQuery(this).data("is_open",!1)}),jQuery('input[name="element-source-meta"]').on("autocompletechange",function(){n.setting_has_changed()}),jQuery('input[name="element-meta-link"]').on("autocompleteopen",function(){jQuery(this).data("is_open",!0)}),jQuery('input[name="element-meta-link"]').on("autocompleteclose",function(){jQuery(this).data("is_open",!1)}),jQuery('input[name="element-meta-link"]').on("autocompletechange",function(){n.setting_has_changed()}),jQuery('input[name="link-meta-link"]').on("autocompleteopen",function(){jQuery(this).data("is_open",!0)}),jQuery('input[name="link-meta-link"]').on("autocompleteclose",function(){jQuery(this).data("is_open",!1)}),jQuery('input[name="link-meta-link"]').on("autocompletechange",function(){n.setting_has_changed()}),jQuery("#button-open-font-family").on("click",function(e){e.stopPropagation(),1==jQuery('input[name="element-font-family"]').data("is_open")?jQuery('input[name="element-font-family"]').autocomplete("close"):jQuery('input[name="element-font-family"]').autocomplete("search","").data("ui-autocomplete")}),jQuery("#button-open-font-family-hover").on("click",function(e){e.stopPropagation(),1==jQuery('input[name="element-font-family-hover"]').data("is_open")?jQuery('input[name="element-font-family-hover"]').autocomplete("close"):jQuery('input[name="element-font-family-hover"]').autocomplete("search","").data("ui-autocomplete")}),jQuery("#button-open-meta-key").on("click",function(e){e.stopPropagation(),1==jQuery('input[name="element-source-meta"]').data("is_open")?jQuery('input[name="element-source-meta"]').autocomplete("close"):jQuery('input[name="element-source-meta"]').autocomplete("search","").data("ui-autocomplete")}),jQuery("#button-open-link-meta-key").on("click",function(e){e.stopPropagation(),1==jQuery('input[name="element-meta-link"]').data("is_open")?jQuery('input[name="element-meta-link"]').autocomplete("close"):jQuery('input[name="element-meta-link"]').autocomplete("search","").data("ui-autocomplete")}),jQuery(".ar-open-meta").on("click",function(e){if("disabled"!=jQuery(this).prop("disabled")){e.stopPropagation(),1==jQuery(this).closest("tr").find(".ar-meta-field").data("is_open")?jQuery(this).closest("tr").find(".ar-meta-field").autocomplete("close"):jQuery(this).closest("tr").find(".ar-meta-field").autocomplete("search","").data("ui-autocomplete");var t=jQuery(".ui-autocomplete");for(var n in t)t.hasOwnProperty(n)&&"object"==typeof t[n]&&"style"in t[n]&&t[n].style.setProperty("z-index","999999","important")}}),jQuery("#button-open-link-link-meta-key").on("click",function(e){e.stopPropagation(),1==jQuery('input[name="link-meta-link"]').data("is_open")?jQuery('input[name="link-meta-link"]').autocomplete("close"):jQuery('input[name="link-meta-link"]').autocomplete("search","").data("ui-autocomplete")}),jQuery("body").on("click",function(){jQuery('input[name="element-font-family"]').autocomplete("close"),jQuery('input[name="element-font-family-hover"]').autocomplete("close"),jQuery('input[name="element-source-meta"]').autocomplete("close"),jQuery('input[name="element-meta-link"]').autocomplete("close"),jQuery('input[name="link-meta-link"]').autocomplete("close"),jQuery(".ar-meta-field").autocomplete("close")}),jQuery(document).on("click",".eg-icon-chooser",function(){jQuery("#eg-fontello-icons-dialog-wrap").dialog("close");var e=this.className.replace("eg-icon-chooser ","");jQuery('input[name="element-source-icon"]').val(e),jQuery("#eg-preview-icon").html('<i class="'+e+'"></i>')}),jQuery(document).on("mouseenter",".eg-icon-chooser",function(){punchgs.TweenLite.to(this,.2,{zIndex:1e3,scale:1.5,transformPerspective:600,transformOrigin:"50% 50%"})}),jQuery(document).on("mouseleave",".eg-icon-chooser",function(){punchgs.TweenLite.to(this,.2,{zIndex:10,scale:1,transformPerspective:600,transformOrigin:"50% 50%"})}),jQuery(".eg-add-meta-to-textarea").on("click",function(){jQuery("#meta-dialog-wrap").dialog("close");var e=jQuery(this).find("td:first-child").text();jQuery('textarea[name="element-source-text"]').val(jQuery('textarea[name="element-source-text"]').val()+e)}),jQuery("#show-fontello-dialog").on("click",function(){jQuery("#eg-fontello-icons-dialog-wrap").css("overflow","overflow:hidden").dialog({modal:!0,draggable:!1,resizable:!1,width:700,height:580,title:eg_lang.fontello_icons,closeOnEscape:!0,dialogClass:"wp-dialog esg_dialog"})}),jQuery("#eg-show-meta-keys-dialog").on("click",function(){jQuery("#meta-dialog-wrap").dialog({modal:!0,draggable:!1,resizable:!1,width:632,height:565,closeOnEscape:!0,dialogClass:"wp-dialog esg_dialog"})}),jQuery("#esg-advanced-rules-edit").on("click",function(){if(null==i)return!1;jQuery("#advanced-rules-dialog-wrap").dialog({modal:!0,draggable:!1,resizable:!1,width:686,height:565,closeOnEscape:!1,buttons:[{text:eg_lang.save_rules,id:"adv_rules_save_btn",click:function(){var e=AdminEssentials.getFormParams("ar-form-wrap"),t=i.data("id");for(var n in s)if(s[n].id==t){s[n].settings["adv-rules"]=e;break}jQuery(this).dialog("close")}},{text:eg_lang.reset_fields,id:"adv_rules_reset_btn",click:function(){confirm(eg_lang.really_reset_fields)&&(document.getElementById("ar-form-wrap").reset(),jQuery(".ar-type-field").each(function(){jQuery(this).change()}),jQuery(".ar-operator-field").each(function(){jQuery(this).change()}))}},{text:eg_lang.discard_changes,id:"adv_rules_disc_btn",click:function(){confirm(eg_lang.really_discard_changes)&&jQuery(this).dialog("close")}}],dialogClass:"wp-dialog esg_dialog"}),document.getElementById("ar-form-wrap").reset(),jQuery(".ar-type-field").each(function(){jQuery(this).change()}),jQuery(".ar-operator-field").each(function(){jQuery(this).change()});var e=i.data("id");for(var t in jQuery('.ar-show-field[value="show"]').prop("checked","checked"),s)if(s[t].id==e){if(void 0!==s[t].settings["adv-rules"])for(var n in s[t].settings["adv-rules"])if("ar-show"==n)jQuery("."+n+'-field[value="'+s[t].settings["adv-rules"][n]+'"]').prop("checked","checked");else{var a=0;jQuery("."+n+"-field").each(function(){jQuery(this).val(s[t].settings["adv-rules"][n][a]),a++})}break}jQuery(".ar-type-field").each(function(){jQuery(this).change()}),jQuery(".ar-operator-field").each(function(){jQuery(this).change()})}),jQuery("body").on("change",".ar-type-field",function(){if("meta"==jQuery(this).val())jQuery(this).closest("tr").find(".ar-meta-field").prop("disabled",!1),jQuery(this).closest("tr").find(".ar-open-meta").prop("disabled",!1),jQuery(this).closest("tr").find(".ar-value-field").prop("disabled",!1),jQuery(this).closest("tr").find(".ar-opt-meta").each(function(){jQuery(this).prop("disabled",!1)});else{jQuery(this).closest("tr").find(".ar-meta-field").prop("disabled","disabled"),jQuery(this).closest("tr").find(".ar-open-meta").prop("disabled","disabled"),jQuery(this).closest("tr").find(".ar-value-field").prop("disabled","disabled"),jQuery(this).closest("tr").find(".ar-opt-meta").each(function(){jQuery(this).prop("disabled","disabled")});var e=jQuery(this).closest("tr").find(".ar-operator-field option:selected").val();"isset"!==e&&"empty"!==e&&jQuery(this).closest("tr").find('.ar-operator-field option[value="isset"]').prop("selected","selected")}var t=jQuery(this).attr("id");"off"==jQuery(this).val()?jQuery("#"+t+"-logic").prop("disabled","disabled"):jQuery("#"+t+"-logic").prop("disabled",!1)}),jQuery("body").on("change",".ar-operator-field",function(){"between"==jQuery(this).val()?jQuery(this).closest("tr").find('input[name="ar-value-2[]"]').prop("disabled",!1):jQuery(this).closest("tr").find('input[name="ar-value-2[]"]').prop("disabled","disabled")}),jQuery("#eg-global-css-dialog").on("click",function(){jQuery("#global-css-edit-dialog-wrap").dialog({modal:!0,draggable:!1,resizable:!1,width:632,height:565,closeOnEscape:!0,buttons:[{text:eg_lang.apply_changes,click:function(){var e={global_css:t.getValue()};AdminEssentials.ajaxRequest("update_custom_css",e,".ui-button",function(e){n.set_global_inline_styles(),jQuery("#global-css-edit-dialog-wrap").dialog("close")})}}],dialogClass:"wp-dialog"}),void 0===t&&(t=ESGMirror.fromTextArea(document.getElementById("eg-global-css-editor"),{mode:"css",theme:"base16-light",lineWrapping:!1,lineNumbers:!0,scrollbarStyle:"native"})),t.setSize(632,467),t.refresh()}),n.change_font_list=function(){var e=[];if(e.push("Georgia, serif"),e.push('"Palatino Linotype", "Book Antiqua", Palatino, serif'),e.push('"Times New Roman", Times, serif'),e.push("Arial, Helvetica, sans-serif"),e.push('"Arial Black", Gadget, sans-serif'),e.push('"Comic Sans MS", cursive, sans-serif'),e.push("Impact, Charcoal, sans-serif"),e.push('"Lucida Sans Unicode", "Lucida Grande", sans-serif'),e.push("Tahoma, Geneva, sans-serif"),e.push('"Trebuchet MS", Helvetica, sans-serif'),e.push("Verdana, Geneva, sans-serif"),e.push('"Courier New", Courier, monospace'),e.push('"Lucida Console", Monaco, monospace'),jQuery(".eg-google-font-link").remove(),d&&(d.length>0||!jQuery.isEmptyObject(d)))for(var t in d){var n=d[t].url;void 0!==n&&(n=(n=n.split("+").join(" ")).split(":"),e.push('"'+n[0]+'"'))}u=e,jQuery('input[name="element-font-family"]').autocomplete("option","source",u),jQuery('input[name="element-font-family-hover"]').autocomplete("option","source",u)},n.change_font_list(),jQuery('input[name="choose-layout"]').change(function(){"even"==jQuery(this).val()?(jQuery("#eg-show-ratio").show(),jQuery("#skin-dz-m-wrap").hide(),jQuery('select[name="show-content"] option').each(function(){"bottom"==jQuery(this).val()&&jQuery(this).text(eg_lang.bottom_on_hover),"top"==jQuery(this).val()&&jQuery(this).text(eg_lang.top_on_hover),"none"==jQuery(this).val()&&jQuery(this).text(eg_lang.hidden)})):(jQuery("#eg-show-ratio").hide(),jQuery("#skin-dz-m-wrap").show(),jQuery('select[name="show-content"] option').each(function(){"bottom"==jQuery(this).val()&&jQuery(this).text(eg_lang.bottom),"top"==jQuery(this).val()&&jQuery(this).text(eg_lang.top),"none"==jQuery(this).val()&&jQuery(this).text(eg_lang.hide)})),n.check_content_position(),n.resize_item_skin_preview()}),jQuery('select[name="show-content"]').change(function(){n.check_content_position()}),jQuery('select[name="show-content"] option:selected').change(),jQuery('select[name="content-align"]').change(function(){jQuery("#skin-dz-m").css("textAlign",jQuery(this).val())}),jQuery('select[name="content-align"] option:selected').change(),jQuery('input[name="choose-layout"]:checked').change(),jQuery("#element-settings-current-name").change(function(){var e=jQuery(this).val();n.select_layer(e)}),jQuery('select[name="cover-animation-top"], select[name="cover-animation-bottom"], select[name="cover-animation-center"], select[name="cover-group-animation"], select[name="media-animation"], select[name="cover-animation-top-type"], select[name="cover-animation-bottom-type"], select[name="cover-animation-center-type"]').change(function(){n.add_animation_classes()}),jQuery('select[name="cover-type"]').change(function(){"full"==jQuery(this).val()?(jQuery("#eg-cover-animation-top").css("display","none"),jQuery("#eg-cover-animation-bottom").css("display","none"),jQuery("#eg-dz-hover-wrap").addClass("eg-full-layout"),jQuery("#skin-dz-c-wrap .eg-element-cover").prependTo("#skin-dz-c-wrap")):(jQuery("#eg-cover-animation-top").css("display","inline-block"),jQuery("#eg-cover-animation-bottom").css("display","inline-block"),jQuery("#eg-dz-hover-wrap").removeClass("eg-full-layout"),jQuery("#skin-dz-c-wrap .eg-element-cover").prependTo("#eg-element-centerme-c")),n.add_animation_classes(),n.change_bg_color()}),jQuery('select[name="cover-type"] option:selected').change(),n.add_animation_classes(),jQuery('select[name="element-transition"]').change(function(){n.check_no_transition(this.options[this.selectedIndex].value)}),n.check_no_transition=function(e){var t="none"!==e?"show":"hide";jQuery(".eg-hideable-no-transition")[t]()},ESG.C.gridEditorInputs["eg-t_b_align"]=void 0===ESG.C.gridEditorInputs["eg-t_b_align"]?jQuery("#eg-t_b_align"):ESG.C.gridEditorInputs["eg-t_b_align"],ESG.C.gridEditorInputs["eg-l_r_align"]=void 0===ESG.C.gridEditorInputs["eg-l_r_align"]?jQuery("#eg-l_r_align"):ESG.C.gridEditorInputs["eg-l_r_align"],jQuery('select[name="element-align"]').change(function(){switch(jQuery('select[name="element-align"] option:selected').val()){case"t_l":ESG.C.gridEditorInputs["eg-t_b_align"].text(eg_lang.top),ESG.C.gridEditorInputs["eg-l_r_align"].text(eg_lang.left);break;case"t_r":ESG.C.gridEditorInputs["eg-t_b_align"].text(eg_lang.top),ESG.C.gridEditorInputs["eg-l_r_align"].text(eg_lang.right);break;case"b_l":ESG.C.gridEditorInputs["eg-t_b_align"].text(eg_lang.bottom),ESG.C.gridEditorInputs["eg-l_r_align"].text(eg_lang.left);break;case"b_r":ESG.C.gridEditorInputs["eg-t_b_align"].text(eg_lang.bottom),ESG.C.gridEditorInputs["eg-l_r_align"].text(eg_lang.right)}n.calculate_absolute_positioning(i)}),jQuery('select[name="element-absolute-unit"]').change(function(){n.calculate_absolute_positioning(i)}),jQuery("#skin-dz-tl, #skin-dz-br, #skin-dz-c, #skin-dz-m").sortable({connectWith:"#skin-dz-tl,#skin-dz-br,#skin-dz-c,#skin-dz-m",revert:!0,tolerance:"pointer",distance:15,grid:[2,2],placeholder:"eg-state-highlight",stack:"#eg-dz-hover-wrap",cancel:".dropzonetext, .eg-element-cover",opacity:1,zIndex:1e4,sort:function(){AdminEssentials.whileDropOrSort(".skin-dz-elements.ui-sortable-helper"),n.redraw_container_height(),AdminEssentials.atDropStop(1)},update:function(e,t){},beforeStop:function(e,t){},stop:function(e,t){AdminEssentials.atDropStop(),void 0!==t.item.data("id")?n.select_layer(t.item.data("id")):i=t.item,i.removeClass("ui-draggable"),n.update_layers(),n.change_bg_color(),n.redraw_container_height(),n.setting_has_changed()}}),jQuery("body").on("click","#layertotop",function(){var e=jQuery(".skin-dz-elements.selected");e.prev().hasClass("eg-element-cover")||e.insertBefore(e.prev()),n.update_layers(),n.change_bg_color(),n.redraw_container_height(),n.setting_has_changed()}),jQuery("body").on("click","#layertobottom",function(){var e=jQuery(".skin-dz-elements.selected");e.insertAfter(e.next()),n.update_layers(),n.change_bg_color(),n.redraw_container_height(),n.setting_has_changed()}),n.set_default_elements_draggable(),jQuery("body").on("click","#eg-dz-hover-wrap .skin-dz-elements",function(){if(null!=i){if(i.data("id")==jQuery(this).data("id"))return!0;n.setting_has_changed()}n.select_layer(jQuery(this).data("id"))}),jQuery("#settings-dz-elements-wrapper").tabs();var o={onRefresh:function(e,t,i,a){e.val(t),clearTimeout(r),r=setTimeout(function(){n.setting_has_changed()},10)},change:function(e,t,i,a,s){e.val(t),clearTimeout(r),r=setTimeout(function(){n.setting_has_changed()},10)},onEdit:function(e,t,i,a){e.val(t),e.data("color",t),clearTimeout(r),r=setTimeout(function(){n.setting_has_changed()},10)},cancel:function(e,t,i,a,s){e.val(t),clearTimeout(r),r=setTimeout(function(){n.setting_has_changed()},10)}},p={onRefresh:function(e,t,i,a){e.val(t),clearTimeout(r),r=setTimeout(function(){n.container_setting_has_changed()},10)},change:function(e,t,i,a,s){e.val(t),clearTimeout(r),r=setTimeout(function(){n.container_setting_has_changed()},10)},onEdit:function(e,t,i,a){e.val(t),e.data("color",t),e.attr("data-color",t),clearTimeout(r),r=setTimeout(function(){n.container_setting_has_changed(t)},10)},cancel:function(e,t,i,a,s){e.val(t),clearTimeout(r),r=setTimeout(function(){n.container_setting_has_changed()},10)}},g=jQuery.extend(!0,{},p);g.wrapper='<span class="cover-animation-color-wrap"></span>';var m="esgColorPicker";jQuery("#element-background-color")[m](o),jQuery("#element-color")[m](o),jQuery("#element-border-color")[m](o),jQuery("#element-shadow-color")[m](o),jQuery("#element-background-color-hover")[m](o),jQuery("#element-color-hover")[m](o),jQuery("#element-border-color-hover")[m](o),jQuery("#element-shadow-color-hover")[m](o),jQuery("#full-border-color")[m](p),jQuery("#full-bg-color")[m](p),jQuery("#content-border-color")[m](p),jQuery("#content-shadow-color")[m](p),jQuery("#content-bg-color")[m](p),jQuery(".cover-animation-color")[m](g),jQuery("#container-background-color")[m]({onRefresh:function(e,t,i,a){e.val(t),n.change_bg_color()},onEdit:function(e,t,i,a){e.val(t),n.change_bg_color(t)},change:function(e,t,i,a,r){e.val(t),n.change_bg_color()},cancel:function(e,t,i,a,r){e.val(t),n.change_bg_color()}}),jQuery('#container-background-color, input[name="container-background-color-into"]').change(function(){n.change_bg_color()}),jQuery("#container-background-color").change(),n.init_slider_elements(),n.setting_has_changed=function(){n.get_setting_values(),n.set_setting_styles(),n.set_setting_caption(),n.set_setting_attributes(),n.change_bg_color(),n.propagate_element_selector(),n.redraw_container_height(),AdminEssentials.atDropStop()},n.container_setting_has_changed=function(){n.set_full_styles(),n.set_content_styles(),n.redraw_container_height(),n.redraw_container_width(),AdminEssentials.atDropStop(),n.set_shadow_on_container(),n.change_bg_color()},n.set_full_styles=function(){var e=jQuery("#eg-dz-hover-wrap"),t=[],n=[],i="";jQuery('input[name="full-border[]"]').each(function(){t.push(parseInt(jQuery(this).val()))}),jQuery('input[name="full-border-radius[]"]').each(function(){n.push(parseInt(jQuery(this).val()))}),jQuery('input[name="full-padding[]"]').each(function(){i+=jQuery(this).val()+"px "}),e.css("borderTopWidth",t[0]+"px"),e.css("borderRightWidth",t[1]+"px"),e.css("borderBottomWidth",t[2]+"px"),e.css("borderLeftWidth",t[3]+"px");var a=jQuery('select[name="full-border-radius-type"] option:selected').val();e.css("borderTopLeftRadius",n[0]+a),e.css("borderTopRightRadius",n[1]+a),e.css("borderBottomRightRadius",n[2]+a),e.css("borderBottomLeftRadius",n[3]+a),e.css("padding",i);var r=jQuery("#full-bg-color"),s=jQuery("#full-border-color");e.css("background",r.attr("data-color")||r.val()),e.css("borderColor",s.attr("data-color")||s.val()),e.css("borderStyle",jQuery('select[name="full-border-style"] option:selected').val())},n.set_shadow_on_container=function(){var e=jQuery('select[name="all-shadow-used"] option:selected').val(),t=jQuery("#eg-dz-hover-wrap"),n=jQuery("#skin-dz-m-wrap"),i=jQuery("#skin-dz-wrapper"),a=jQuery(".eg-element-cover"),r="";if(t.css("-moz-box-shadow","").css("-webkit-box-shadow","").css("box-shadow",""),n.css("-moz-box-shadow","").css("-webkit-box-shadow","").css("box-shadow",""),i.css("-moz-box-shadow","").css("-webkit-box-shadow","").css("box-shadow",""),a.css("-moz-box-shadow","").css("-webkit-box-shadow","").css("box-shadow",""),"none"==e)return!0;"full"===jQuery('select[name="cover-type"]').val()&&(a=a.filter(function(){return"skin-dz-c-wrap"===jQuery(this).parent().attr("id")})),("cover"===e||jQuery("#content-shadow-inset:checked").length)&&(r+="inset "),jQuery('input[name="content-box-shadow[]"]').each(function(){r+=jQuery(this).val()+"px "});var s=jQuery("#content-shadow-color");s=s.attr("data-color")||s.val(),r+=s,"both"==e?t.css("-moz-box-shadow",r).css("-webkit-box-shadow",r).css("box-shadow",r):"content"==e?n.css("-moz-box-shadow",r).css("-webkit-box-shadow",r).css("box-shadow",r):"media"==e?i.css("-moz-box-shadow",r).css("-webkit-box-shadow",r).css("box-shadow",r):"cover"==e&&a.css("-moz-box-shadow",r).css("-webkit-box-shadow",r).css("box-shadow",r)},n.set_content_styles=function(){var e=jQuery("#skin-dz-m"),t=[],n=[],i="";jQuery('input[name="content-border[]"]').each(function(){t.push(parseInt(jQuery(this).val()))}),jQuery('input[name="content-border-radius[]"]').each(function(){n.push(parseInt(jQuery(this).val()))}),jQuery('input[name="content-padding[]"]').each(function(){i+=jQuery(this).val()+"px "}),e.css("borderTopWidth",t[0]+"px"),e.css("borderRightWidth",t[1]+"px"),e.css("borderBottomWidth",t[2]+"px"),e.css("borderLeftWidth",t[3]+"px");var a=jQuery('select[name="content-border-radius-type"] option:selected').val();e.css("borderTopLeftRadius",n[0]+a),e.css("borderTopRightRadius",n[1]+a),e.css("borderBottomRightRadius",n[2]+a),e.css("borderBottomLeftRadius",n[3]+a),e.css("padding",i);var r=jQuery("#content-bg-color"),s=jQuery("#content-border-color");e.css("background",r.attr("data-color")||r.val()),e.css("borderColor",s.attr("data-color")||s.val()),e.css("borderStyle",jQuery('select[name="content-border-style"] option:selected').val())},jQuery("body").on("click","#element-delete-button",function(){if(null==i)return!1;confirm(eg_lang.delete_this_element)&&n.delete_layer(i)}),jQuery('select[name="element-source"]').change(function(){switch(jQuery(".elements-select-wrap").hide(),jQuery(".esg-cat-tag-settings").hide(),jQuery("#eg-source-functonality-wrap").hide(),jQuery("#eg-source-meta-wrap").hide(),jQuery("#eg-source-taxonomy-wrap").hide(),jQuery(this).val()){case"event":jQuery("#eg-source-element-drops").show(),ESG.C.gridEditorInputs["element-source-event"].show(),ESG.C.gridEditorInputs["eg-source-limit-wrap"].show();break;case"woocommerce":jQuery("#eg-source-element-drops").show(),ESG.C.gridEditorInputs["element-source-woocommerce"].show(),ESG.C.gridEditorInputs["eg-source-limit-wrap"].show(),ESG.C.gridEditorInputs["element-source-woocommerce"].change();break;case"icon":jQuery("#eg-source-element-drops").hide(),ESG.C.gridEditorInputs["eg-source-icon-wrap"].show();break;case"text":jQuery("#eg-source-element-drops").hide();var e=!1;for(var t in s)if(s[t].id==i.data("id")){e=!0;var n=s[t];void 0!==typeof n&&null!==n&&void 0!==typeof n.settings.special&&"true"==n.settings.special&&void 0!==typeof n.settings["special-type"]&&"blank-element"==n.settings["special-type"]?jQuery("#eg-source-text-style-disable-wrap").hide():jQuery("#eg-source-text-style-disable-wrap").show()}!1===e&&jQuery("#eg-source-text-style-disable-wrap").show(),jQuery("#eg-source-text-wrap").show();break;case"post":default:jQuery("#eg-source-element-drops").show();var a=jQuery('select[name="element-source-post"]').val();-1===a.search(/cat_list|tag_list/)?ESG.C.gridEditorInputs["eg-source-limit-wrap"].show():ESG.C.gridEditorInputs["eg-source-limit-wrap"].hide(),"taxonomy"==a&&jQuery("#eg-source-taxonomy-wrap").show(),jQuery("#eg-source-functonality-wrap").show(),jQuery('select[name="element-source-post"]').show(),jQuery('select[name="element-source-function"]').show(),jQuery('select[name="element-source-post"]').change()}}),jQuery('select[name="element-source-post"]').change(function(){var e=jQuery(this).val();"cat_list"==e||"tag_list"==e||"taxonomy"==e?(jQuery(".esg-cat-tag-settings").show(),ESG.C.gridEditorInputs["eg-source-limit-wrap"].hide(),jQuery("#eg-source-functonality-wrap").show()):(jQuery(".esg-cat-tag-settings").hide(),ESG.C.gridEditorInputs["eg-source-limit-wrap"].show(),jQuery("#eg-source-functonality-wrap").hide()),"meta"==e?jQuery("#eg-source-meta-wrap").show():jQuery("#eg-source-meta-wrap").hide(),"taxonomy"==e?jQuery("#eg-source-taxonomy-wrap").show():jQuery("#eg-source-taxonomy-wrap").hide()}),ESG.C.gridEditorInputs["element-source-woocommerce"].change(function(){"wc_categories"==jQuery(this).val()?(jQuery(".esg-cat-tag-settings").show(),jQuery("#eg-source-functonality-wrap").show()):(jQuery(".esg-cat-tag-settings").hide(),jQuery("#eg-source-functonality-wrap").hide())}),jQuery('select[name="element-link-type"]').change(function(){switch(ESG.C.gridEditorInputs["eg-element-post-url-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-post-meta-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-post-javascript-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-link-details-wrap"].show(),ESG.C.gridEditorInputs["eg-element-facebook-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-gplus-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-pinterest-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-twitter-wrap"].hide(),jQuery(this).val()){case"post":case"lightbox":case"embedded_media":break;case"url":ESG.C.gridEditorInputs["eg-element-post-url-wrap"].show();break;case"meta":ESG.C.gridEditorInputs["eg-element-post-meta-wrap"].show();break;case"javascript":ESG.C.gridEditorInputs["eg-element-post-javascript-wrap"].show();break;case"sharefacebook":ESG.C.gridEditorInputs["eg-element-link-details-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-facebook-wrap"].show(),"custom"==jQuery('select[name="element-facebook-sharing-link"]').val()?ESG.C.gridEditorInputs["eg-element-facebook_link_custom"].show():ESG.C.gridEditorInputs["eg-element-facebook_link_custom"].hide();break;case"sharegplus":ESG.C.gridEditorInputs["eg-element-link-details-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-gplus-wrap"].show(),"custom"==jQuery('select[name="element-gplus-sharing-link"]').val()?ESG.C.gridEditorInputs["eg-element-gplus_link_custom"].show():ESG.C.gridEditorInputs["eg-element-gplus_link_custom"].hide();break;case"sharepinterest":ESG.C.gridEditorInputs["eg-element-link-details-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-pinterest-wrap"].show(),"custom"==jQuery('select[name="element-pinterest-sharing-link"]').val()?ESG.C.gridEditorInputs["eg-element-pinterest_link_custom"].show():ESG.C.gridEditorInputs["eg-element-pinterest_link_custom"].hide();break;case"sharetwitter":ESG.C.gridEditorInputs["eg-element-link-details-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-twitter-wrap"].show(),"custom"==jQuery('select[name="element-twitter-sharing-link"]').val()?ESG.C.gridEditorInputs["eg-element-twitter_link_custom"].show():ESG.C.gridEditorInputs["eg-element-twitter_link_custom"].hide()}}),jQuery('select[name="link-link-type"]').change(function(){switch(jQuery("#eg-link-post-url-wrap").hide(),jQuery("#eg-link-post-meta-wrap").hide(),jQuery("#eg-link-post-javascript-wrap").hide(),jQuery("#eg-link-target-wrap").hide(),jQuery(this).val()){case"lightbox":case"embedded_media":break;case"post":jQuery("#eg-link-target-wrap").show();break;case"url":jQuery("#eg-link-post-url-wrap").show(),jQuery("#eg-link-target-wrap").show();break;case"meta":jQuery("#eg-link-post-meta-wrap").show(),jQuery("#eg-link-target-wrap").show();break;case"javascript":jQuery("#eg-link-post-javascript-wrap").show()}}),jQuery('select[name="link-link-type"] option:selected').change(),jQuery('select[name="link-set-to"]').change(function(){"none"!==jQuery(this).val()?jQuery(".add-link-to-wrapper").show():jQuery(".add-link-to-wrapper").hide()}),jQuery('select[name="link-set-to"] option:selected').change(),jQuery('select[name="element-background-size"]').change(function(){jQuery("#background-size-percent-wrap").hide(),"%"==jQuery(this).val()&&jQuery("#background-size-percent-wrap").css("display","inline-block")}),jQuery('select[name="element-background-size"] option:selected').trigger("click"),jQuery('input[name="choose-layout"]:checked').change(),jQuery('select[name="element-display"]').change(function(){switch(jQuery("#element-text-align-wrap").hide(),jQuery("#element-float-wrap").hide(),jQuery(this).val()){case"block":jQuery("#element-text-align-wrap").show(),jQuery('#element-float-wrap option[value="none"]').prop("selected","selected");break;case"inline-block":jQuery("#element-float-wrap").show(),jQuery('#element-text-align-wrap option[value="center"]').prop("selected","selected")}}),jQuery('input[name="element-display"]:checked').change(),jQuery("#eg-styling-idle-hover-tab .eg-submenu li").on("click",function(){var e=jQuery("#eg-style-idle"),t=jQuery("#eg-style-hover"),n=jQuery(this).data("toshow");e.hide(),t.hide(),jQuery("#"+n).show(),jQuery("#"+n+" .eg-small-vertical-menu li:first-child").trigger("click"),jQuery("#eg-styling-idle-hover-tab .eg-submenu li").removeClass("selected-submenu-setting"),jQuery(this).addClass("selected-submenu-setting")}),jQuery("#eg-lc-spaces .eg-submenu li").on("click",function(){var e=jQuery("#eg-style-full"),t=jQuery("#eg-style-content"),n=jQuery(this).data("toshow");e.hide(),t.hide(),jQuery("#"+n).show(),jQuery("#eg-lc-spaces .eg-submenu li").removeClass("selected-submenu-setting"),jQuery(this).addClass("selected-submenu-setting")}),jQuery("#eg-btn-save-grid-editor, #eg-global-change").on("click",function(){var e=jQuery('input[name="item-skin-name"]').val();if(e.length<2)return alert(eg_lang.item_name_too_short),!1;var t=n.output_setting_data();t=JSON.stringify(t);var i={name:ESG.F.trim(e),params:AdminEssentials.getFormParams("eg-form-item-skin-layout-settings"),layers:t};"update_item_skin"==a&&(i.id=jQuery('input[name="eg-item-skin-id"]').val()),AdminEssentials.ajaxRequest("update_create_item_skin",i,"#eg-btn-save-grid-editor, #eg-global-change"),l=!1}),jQuery('input[name="item-skin-name"]').keyup(function(){if(jQuery("#eg-item-skin-slug").text(AdminEssentials.sanitize_input(jQuery(this).val())),null!==i){var e="text"==jQuery('select[name="element-source"] option:selected').val()&&"checked"==jQuery('input[name="element-source-text-style-disable"]').prop("checked")?"-nostyle":"";jQuery(".eg-element-class-setter").text(eg_lang.class_name+" .eg-"+jQuery("#eg-item-skin-slug").text()+e+"-element-"+i.data("id"))}}),jQuery('input[name="item-skin-name"]').keyup(),jQuery("#element-save-as-button").on("click",function(){var e=void 0!==jQuery(".skin-dz-elements.selected").data("orighandle")?jQuery(".skin-dz-elements.selected").data("orighandle"):jQuery(".skin-dz-elements.selected").data("handle"),t=prompt(eg_lang.please_enter_unique_element_name,e);return null!=t&&(t.length<2?(alert(eg_lang.item_name_too_short),!1):void AdminEssentials.ajaxRequest("check_item_element_existence",{name:ESG.F.trim(t)},".save-wrap-settings, #dz-delete",function(e){var i=!1;if(void 0!==typeof e.data.existence&&("true"==e.data.existence?confirm(eg_lang.element_name_exists_do_overwrite)&&(i=!0):"false"==e.data.existence?i=!0:AdminEssentials.showErrorMessage(e.data.existence,"")),i){var a={settings:AdminEssentials.getFormParams("eg-item-element-settings-wrap"),name:ESG.F.trim(t)};AdminEssentials.ajaxRequest("update_create_item_element",a,".save-wrap-settings, #dz-delete",function(e){n.refresh_predefined_elements(),AdminEssentials.showWaitAMinute({fadeOut:300})})}else AdminEssentials.showInfoMessage(eg_lang.element_was_not_changed),AdminEssentials.showWaitAMinute({fadeOut:300})}))}),n.resize_item_skin_preview();e=jQuery("#eg-elements-container-grid").tpessential({layout:"masonry",row:4,column:3,space:25,aspectratio:"4:3",startAnimation:"none",startAnimationSpeed:0,startAnimationDelay:0,pageAnimation:"fade",overflowoffset:20,animSpeed:500,animDelay:"on",delayBasic:1,responsiveEntries:[{width:400,amount:3},{width:480,amount:3},{width:620,amount:3},{width:768,amount:3},{width:992,amount:3},{width:1200,amount:3},{width:1400,amount:3}]}),jQuery("#eg-preview-item-skin").on("click",function(){AdminEssentials.playElementAnimation()}),jQuery("#eg-preview-stop-item-skin").on("click",function(){AdminEssentials.stopElementAnimation()}),n.propagate_default_element_styles(),AdminEssentials.atDropStop(),AdminEssentials.callOnChange("#settings-dz-elements-wrapper",n.setting_has_changed,0),AdminEssentials.callOnChange(".eg-lc-menu-wrapper",n.container_setting_has_changed,0),n.container_setting_has_changed(),AdminEssentials.callOnChange("#eg-curname-event-wrap"),jQuery("#cover-background-image-wrap").on("click",function(e){e.preventDefault();var t=wp.media({title:eg_lang.choose_image,multiple:!1,library:{type:"image"},button:{text:eg_lang.choose_image}});t.on("select",function(){var e=t.state().get("selection").first().toJSON();t.state().get("selection");n.select_cover_image(e.url,e.id)}),t.open()}),jQuery("#remove-cover-background-image-wrap").on("click",function(){jQuery('input[name="cover-background-image"]').val("0"),jQuery('input[name="cover-background-image-url"]').val(""),jQuery("#cover-background-image-wrap").css("background-image",""),n.change_bg_color()}),n.select_cover_image=function(e,t){jQuery('input[name="cover-background-image"]').val(t),jQuery('input[name="cover-background-image-url"]').val(e),jQuery("#cover-background-image-wrap").css("background-image","url("+e+")"),n.change_bg_color()},jQuery("#element-hover-image").on("change",function(){var e=this.checked?"block":"none",t=document.getElementById("eg-hover-img-animation");t&&(t.style.display=e)}),jQuery(document).on("keydown",function(e){if(e.ctrlKey||e.metaKey)switch(String.fromCharCode(e.which).toLowerCase()){case"s":var t=jQuery("#eg-global-change");t.length&&(e.preventDefault(),t.trigger("click"))}}),jQuery(".cover-animation-select").change(function(){var e=this.name.replace("cover-animation-",""),t=-1===this.value.search(/line|spiral|circle/)?"addClass":"removeClass";jQuery("#cover-animation-color-"+e).closest(".cover-animation-color-wrap")[t]("cover-animation-color-hide")}).change(),jQuery("#cover-type").change(function(){jQuery("#all-shadow-used").change()}),jQuery("#all-shadow-used").change(function(){var e="cover"===this.value,t=e?"full"===jQuery("#cover-type").val()?"removeClass":"addClass":"removeClass";jQuery("#content-box-shadow-hover")[t]("esg-hide-option"),t=e?"addClass":"removeClass",jQuery("#content-box-shadow-inset")[t]("esg-hide-option")}).change();var y=jQuery(".letter-spacing").on("change.letterspacing",function e(){y.off(".letterspacing");var t=this.value.replace("px","");isNaN(t)?"normal"!==t&&"inherit"!==t&&"initial"!==t&&(this.value="normal",jQuery(this).change()):(this.value=t+"px",jQuery(this).change()),y.on("change.letterspacing",e)});jQuery("#media-animation").change(function(){var e=-1===this.value.search("blur")?"addClass":"removeClass";jQuery("#media-animation-blur")[e]("esg-hide-option")}).change()},n.sortByOrder=function(e,t){return(e=parseInt(e.order.toString().toLowerCase()))<(t=parseInt(t.order.toString().toLowerCase()))?-1:e>t?1:0},n.resize_item_skin_preview=function(){var e=jQuery("#skin-dz-wrapper").width();if("even"==jQuery('input[name="choose-layout"]:checked').val())var t=jQuery('input[name="element-x-ratio"]').val(),n=jQuery('input[name="element-y-ratio"]').val();else t=1,n=1;jQuery("#skin-dz-wrapper").css("height",e/t*n),jQuery("#skin-dz-media-bg").css("height",e/t*n),jQuery("#skin-dz-media-bg-wrapper").css("height",e/t*n)},n.init_slider_elements=function(){for(var e in o)switch(o[e].type){case"text-slider":case"slider":if("shadow"==e)continue;parseInt(o[e].values.default),jQuery("#element-"+e).slider({value:isNaN(parseInt(o[e].values.default))?0:parseInt(o[e].values.default),min:parseInt(o[e].values.min),max:parseInt(o[e].values.max),step:parseInt(o[e].values.step),slide:function(e,t){jQuery('input[name="'+jQuery(this).attr("id")+'"]').val(t.value),jQuery("body").trigger("esgslide",jQuery(this))}});var t=parseInt(jQuery("#element-"+e+" .ui-slider-handle").css("left"),0);jQuery("#element-"+e).prepend('<span class="eg-pre-slider"></span>'),jQuery("#element-"+e+" .eg-pre-slider").css({width:t})}var i=[{name:"x-ratio",value:-1,min:1,max:16},{name:"y-ratio",value:-1,min:1,max:16}];for(var a in i){var r=1;null!=i[a].step&&(r=i[a].step),-1==i[a].value&&(i[a].value=jQuery('input[name="element-'+i[a].name+'"]').val()),jQuery("#element-"+i[a].name).slider({value:i[a].value,min:i[a].min,max:i[a].max,step:r,slide:function(e,t){jQuery('input[name="'+jQuery(this).attr("id")+'"]').val(t.value),jQuery("body").trigger("esgslide",jQuery(this)),"element-x-ratio"!=jQuery(this).attr("id")&&"element-y-ratio"!=jQuery(this).attr("id")||n.resize_item_skin_preview()}});t=parseInt(jQuery("#element-"+i[a].name+" .ui-slider-handle").css("left"),0);jQuery("#element-"+i[a].name).prepend('<span class="eg-pre-slider"></span>'),jQuery("#element-"+i[a].name+" .eg-pre-slider").css({width:t})}jQuery("body").on("esgslide",function(e,t){var n=jQuery(t);setTimeout(function(){var e=parseInt(n.find(".ui-slider-handle").css("left"),0);n.find(".eg-pre-slider").css({width:e})},10)}),jQuery("#element-item-skin-width-check").slider({value:400,min:100,max:1170,step:1,slide:function(e,t){jQuery("#currently-at-pixel").text(t.value+"px"),jQuery("body").trigger("esgslide",jQuery(this)),jQuery("#skin-dz-wrapper").css("width",t.value),jQuery("#skin-dz-media-bg").css("width",t.value),n.resize_item_skin_preview()}});t=parseInt(jQuery("#element-item-skin-width-check .ui-slider-handle").css("left"),0);jQuery("#element-item-skin-width-check").prepend('<span class="eg-pre-slider"></span>'),jQuery("#element-item-skin-width-check .eg-pre-slider").css({width:t}),jQuery("#content-shadow-alpha").slider({value:jQuery('input[name="content-shadow-alpha"]').val(),min:0,max:100,step:1,slide:function(e,t){jQuery('input[name="content-shadow-alpha"]').val(t.value),jQuery("body").trigger("esgslide",jQuery(this))}});t=parseInt(jQuery("#content-shadow-alpha .ui-slider-handle").css("left"),0);jQuery("#content-shadow-alpha").prepend('<span class="eg-pre-slider"></span>'),jQuery("#content-shadow-alpha .eg-pre-slider").css({width:t});i=[];for(var a in i){i[a].value=jQuery('input[name="'+i[a].name+'"]').val(),jQuery("#"+i[a].name).slider({value:i[a].value,min:i[a].min,max:i[a].max,step:1,slide:function(e,t){jQuery('input[name="'+jQuery(this).attr("id")+'"]').val(t.value),jQuery("body").trigger("esgslide",jQuery(this)),n.add_animation_classes()}});t=parseInt(jQuery("#"+i[a].name+" .ui-slider-handle").css("left"),0);jQuery("#"+i[a].name).prepend('<span class="eg-pre-slider"></span>'),jQuery("#"+i[a].name+" .eg-pre-slider").css({width:t})}n.reinitSliderPosition(),jQuery("#settings-dz-elements-wrapper>ul>li>a, #layer-settings-header").on("click",function(){setTimeout(function(){n.reinitSliderPosition()},20)})},n.reinitSliderPosition=function(){jQuery(".eg-pre-slider").each(function(){var e=jQuery(this),t=parseInt(e.parent().find(".ui-slider-handle").css("left"),0);NaN!=t&&null!=t&&e.css({width:t})})},n.initOverviewItemSkin=function(){jQuery(".eg-btn-delete-item-skin").on("click",function(){var e=jQuery(this).attr("id").replace("eg-delete-",""),t={id:e};confirm(eg_lang.delete_item_skin)&&AdminEssentials.ajaxRequest("delete_item_skin",t,".btn-wrap-item-skin-overview-"+e,function(t){t.success,1==t.success&&jQuery("#eg-delete-"+e).closest("li").remove()})}),jQuery(".eg-btn-duplicate-item-skin").on("click",function(){var e={id:jQuery(this).attr("id").replace("eg-duplicate-","")};AdminEssentials.ajaxRequest("duplicate_item_skin",e,"")}),jQuery(".eg-btn-star-item-skin").on("click",function(){var e=jQuery(this).attr("id").replace("eg-star-",""),t={id:e};AdminEssentials.ajaxRequest("star_item_skin",t,"#waitaminute",function(t){var n=jQuery("#eg-star-"+e).children("i");n.hasClass("eg-icon-star-empty")?(n.removeClass("eg-icon-star-empty").addClass("eg-icon-star"),n.closest("li").addClass("filter-favorite")):(n.removeClass("eg-icon-star").addClass("eg-icon-star-empty"),n.closest("li").removeClass("filter-favorite"))})})}}}(jQuery);